define(["knockout","promise","ccRestClient","jquery","pageLayout/cart","pubsub","ccConstants","ccLogger","viewportHelper","moment"],function(e,t,i,n,r,a,o,u,s,l){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}var r=i(1),a=i(20),o=n(a);e.exports=(0,r.widgetLoader)(o)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.widgetLoader=t.BaseWidget=t.helpers=t.decorators=t.loaders=void 0;var r=i(2);Object.defineProperty(t,"widgetLoader",{enumerable:!0,get:function(){return r.init}});var a=i(3),o=n(a),u=i(5),s=n(u),l=i(7),c=n(l),d=i(17);t.loaders=o,t.decorators=s,t.helpers=c,t.BaseWidget=d.BaseWidget},function(e,t,i){"use strict";function n(e){var t=new r.Widget;return{onLoad:function(i){t.load(i,this,e)},beforeAppear:function(e){t.beforeAppear(e,this)},resourcesLoaded:function(e){t.resourcesLoaded(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=i(3)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4);Object.defineProperty(t,"Widget",{enumerable:!0,get:function(){return n.Widget}})},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.Widget=function(){function e(){i(this,e)}return n(e,[{key:"resourcesLoaded",value:function(e){$.Topic("widget."+e.id()+".resourcesLoaded").publish()}},{key:"beforeAppear",value:function(e,t){$.Topic("widget."+t.id()+".beforeAppear").publish(e)}},{key:"load",value:function(e,t,i){var n=function(e,t,i){e&&(Object.keys(e).forEach(function(e){"__dataApplied"!==e&&(i.$data[e]=i[e])}),t.prototype.$dataProperties.__widgetInstanceId=i.$data.id())},r=function(e,t){e&&Object.keys(e).forEach(function(i){t.$data[i]=function(){var n=Array.prototype.slice.call(arguments);return n.push(this),e[i].apply(t,n)}})},a={};Object.keys(i).forEach(function(t){var o=i[t],u=o.prototype.$dataMethods,s=o.prototype.$dataProperties;o.prototype.applyContexts=function(t){t.$data=e,t.viewModels=a,n(s,o,t),r(u,t),$.Topic("widget."+e.id()+".beforeAppear").subscribe(function(e){"function"==typeof t.beforeAppear&&t.beforeAppear(e)}),$.Topic("widget."+e.id()+".resourcesLoaded").subscribe(function(){"function"==typeof t.resourcesLoaded&&t.resourcesLoaded()})};var l=new o;a[t]=l})}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(6);Object.defineProperty(t,"exportToViewModel",{enumerable:!0,get:function(){return n.exportToViewModel}})},function(e,t){"use strict";function i(e,t,i){if("undefined"==typeof e.$data&&(e.$data={}),"undefined"==typeof e.$dataMethods&&(e.$dataMethods={}),"undefined"==typeof e.$dataProperties&&(e.$dataProperties={}),"function"==typeof e[t])return e.$dataMethods[t]=e[t],i;var n=i.initializer;delete i.initializer,delete i.writable;var r={},a=function(){var t=e.$data.id?e.$data.id():"root";return"root"===t||r[t]?t:"root"},o=function(e){var t=a();return r[t]=e,r[t]};return o(n.call(i)),i.set=function(e){o(e)},i.get=function(){var u=r[a()];return this.$dataProperties.__widgetInstanceId&&this.$data.id()!==this.$dataProperties.__widgetInstanceId&&(u=o(n.call(i))),e.$data[t]=u,u},e.$dataProperties[t]=e[t],i}Object.defineProperty(t,"__esModule",{value:!0}),t.exportToViewModel=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(8);Object.defineProperty(t,"OERestClient",{enumerable:!0,get:function(){return n.OERestClient}});var r=i(12);Object.defineProperty(t,"CartHelper",{enumerable:!0,get:function(){return r.CartHelper}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OERestClient=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(9),u=(n(o),i(10)),s=(n(u),i(11)),l=n(s);t.OERestClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.endpoint=null,this.path=null,this.query=null,this.endpoint=t,this.path=i,this.query=n}return a(e,[{key:"setEndpoint",value:function(e){this.endpoint=e}},{key:"setPath",value:function(e){this.path=e}},{key:"setQuery",value:function(e){this.query=e}},{key:"send",value:function(){var e=this;return new Promise(function(t,i){e.validate()||i({error:"Required fields not provided"}),l["default"].request(e.endpoint,e.query,function(e){t(e)},function(e){i(e)},e.path)})}},{key:"validate",value:function(){return!!this.endpoint}}]),e}()},function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t){e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CartHelper=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(13),u=n(o),s=i(9),l=n(s),c=i(14),d=n(c),f=i(15),p=n(f),h=i(16),v=n(h),b="oe.on.all.items.added";t.CartHelper=function(){function e(t){r(this,e),this.widget=t,this.cart=d["default"].getInstance()}return a(e,[{key:"addItemToCart",value:function(e){u["default"].Topic(p["default"].topicNames.CART_ADD).publishWith(e)}},{key:"addMultipleItemsToCart",value:function(e){var t=this;if(u["default"].isArray(e)){this.addingQueue=e;var i=this.getCartCallbackByAction(v["default"].PRICING_SUCCESS_CB);return this.setPricingSuccessCallback(this.onPricingSuccess.bind(this)),new Promise(function(e){var n=function r(){u["default"].Topic(b).unsubscribe(r),t.setPricingSuccessCallback(i),e({success:!0})};u["default"].Topic(b).unsubscribe(n),u["default"].Topic(b).subscribe(n),t.addingQueue.length?t.addItemToCart(t.addingQueue[0]):n()})}return Promise.reject({error:"An array of items must be provided!"})}},{key:"clearCart",value:function(){this.cart.emptyCart(),this.cart.markDirty()}},{key:"getCartCallbackByAction",value:function(e){var t=this.cart.callbacks,i=void 0;return t.hasOwnProperty(e)&&(i=t[e]),i}},{key:"getDynamicPropertyById",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=void 0;if(this.cart&&l["default"].isObservable(this.cart.dynamicProperties)){var i=this.cart.dynamicProperties();i.some(function(i){if(i.id()===e)return t=i,!0})}return t}},{key:"onPricingSuccess",value:function(){u["default"].isArray(this.addingQueue)&&(this.addingQueue.shift(),this.addingQueue.length?this.addItemToCart(this.addingQueue[0]):u["default"].Topic(b).publish())}},{key:"saveCart",value:function(){this.cart.saveCartCookie()}},{key:"saveCartAndPersist",value:function(){this.saveCart(),this.cart.priceCartIfNeccessary(!0)}},{key:"setCartCallback",value:function(e,t){if(e&&"function"==typeof t){var i=this.cart.callbacks;i[e]=t,this.cart.setCallbackFunctions(i)}}},{key:"setDynamicProperty",value:function(e,t){e&&l["default"].isObservable(e.value)&&e.value(t)}},{key:"setDynamicPropertyById",value:function(e,t){var i=this.getDynamicPropertyById(e);i&&this.setDynamicProperty(i,t)}},{key:"setPrepricingCallback",value:function(e){this.setCartCallback(v["default"].PREPRICING,e)}},{key:"setPricingFailureCallback",value:function(e){this.setCartCallback(v["default"].PRICING_FAILURE_CB,e)}},{key:"setPricingSuccessCallback",value:function(e){this.setCartCallback(v["default"].PRICING_SUCCESS_CB,e)}}]),e}()},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseWidget=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(9),u=n(o),s=i(18),l=n(s),c=i(19),d=n(c);t.BaseWidget=function(){function e(){r(this,e),this.applyContexts(this),this._setExtensionSettings(),this._setViewportHelper()}return a(e,[{key:"_setExtensionSettings",value:function(){this.$data.siteSettings=u["default"].observable();var e=this.$data.site().extensionSiteSettings;this.$data.siteSettings(Object.keys(e).length?e:null)}},{key:"_setViewportHelper",value:function(){var e=this;this.$data.viewportHelper=d["default"],this.$data.viewportClass=u["default"].pureComputed(function(){return"viewport-"+d["default"].viewportDesignation()}),this.$data.isPhone=u["default"].observable(!1),this.$data.isTablet=u["default"].observable(!1),this.$data.isLaptop=u["default"].observable(!1),this.$data.isDesktop=u["default"].observable(!1),this._setCurrentViewport(d["default"].viewportDesignation()),d["default"].viewportDesignation.subscribe(function(t){return e._setCurrentViewport(t)})}},{key:"_setCurrentViewport",value:function(e){var t={};t.xs=this.$data.isPhone,t.sm=this.$data.isTablet,t.md=this.$data.isLaptop,t.lg=this.$data.isDesktop,Object.keys(t).forEach(function(i){return t[i](i===e)})}},{key:"getSiteSetting",value:function(e){if(!this.hasSiteSettings())return this.log("There is no Site Settings configured","warn"),!1;var t=this.$data.siteSettings();return"undefined"==typeof t[e]?(this.log("The setting "+e+" doesn't exist","warn"),!1):t[e]}},{key:"hasSiteSettings",value:function(){return null!==this.$data.siteSettings()}},{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",i=arguments[2];i=i||this.$data.displayName(),l["default"][t]("[OE]["+i+"] - "+e)}}]),e}()},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21);Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return n.Carousel}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(t,"__esModule",{value:!0}),t.Carousel=void 0;var l,c,d,f=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(5),h=i(1),v=i(13),b=n(v),y=i(9),g=n(y),m=i(22),w=n(m),C=i(23),P=n(C);t.Carousel=(l=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r(e,"config",c,e),r(e,"slides",d,e),e.config(e.getConfig()),e.slides(e.getSlides()),e}return u(t,e),f(t,[{key:"beforeAppear",value:function(){this.config().autoPlay&&(0,b["default"])("#myCarousel").carousel(this.config())}},{key:"validate",value:function(e,t){return(!e||!(0,w["default"])(e,"MM/DD/YYYY","en",!0).isValid()||(0,w["default"])(e,"MM/DD/YYYY","en",!0)<=(0,w["default"])())&&(!t||!(0,w["default"])(t,"MM/DD/YYYY","en",!0).isValid()||(0,w["default"])(t,"MM/DD/YYYY","en",!0)>=(0,w["default"])())}},{key:"getSlides",value:function(){for(var e=[],t=void 0,i=void 0,n=void 0,r=void 0,a=void 0,o=1;o<7;o++)if(t=this.$data.hasOwnProperty("imageUrl"+o)&&void 0!==this.$data["imageUrl"+o]()?this.$data["imageUrl"+o]():null,i=this.$data.hasOwnProperty("mobileImageUrl"+o)&&void 0!==this.$data["mobileImageUrl"+o]()?this.$data["mobileImageUrl"+o]():null,n=this.$data.hasOwnProperty("startDate"+o)&&void 0!==this.$data["startDate"+o]()?this.$data["startDate"+o]():null,r=this.$data.hasOwnProperty("endDate"+o)&&void 0!==this.$data["endDate"+o]()?this.$data["endDate"+o]():null,a=this.validate(n,r),t&&a){var u=new P["default"];u.imageUrl=t,u.mobileImageUrl=i,u.hasMobile=!(""==i||null==i),u.bannerLink=this.$data.hasOwnProperty("bannerLink"+o)&&void 0!==this.$data["bannerLink"+o]()?this.$data["bannerLink"+o]():null,u.bannerText=this.$data.hasOwnProperty("bannerText"+o)&&void 0!==this.$data["bannerText"+o]()?this.$data["bannerText"+o]():null,u.startDate=n,u.endDate=r,e.push(u)}return e}},{key:"getConfig",value:function(){return{autoPlay:!!this.$data.boolAutoplayCarousel(),wrap:!!this.$data.boolLoopCarousel(),interval:this.$data.hasOwnProperty("timeSwitchImage")&&void 0!==this.$data.timeSwitchImage()&&!isNaN(this.$data.timeSwitchImage())?parseInt(1e3*parseInt(this.$data.timeSwitchImage(),10)):4e3}}}]),t}(h.BaseWidget),c=s(l.prototype,"config",[p.exportToViewModel],{enumerable:!0,initializer:function(){return g["default"].observable()}}),d=s(l.prototype,"slides",[p.exportToViewModel],{enumerable:!0,initializer:function(){return g["default"].observable()}}),l)},function(e,t){e.exports=l},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(){i(this,r),this.imageUrl="",this.mobileImageUrl="",this.hasMobile=!1,this.bannerLink="",this.bannerText="",this.startDate="",this.endDate=""};t["default"]=n}])});
//# sourceMappingURL=oeValmorHeroBanner.min.js.map