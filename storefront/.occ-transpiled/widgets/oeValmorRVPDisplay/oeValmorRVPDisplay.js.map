{"version":3,"sources":["webpack:///webpack/bootstrap 6173e2d88f345a012ed7","webpack:///./widgets/objectedge/oeValmorRVPDisplay/js/index.js","webpack:///./.occ-components/widgets/widget-core/index.js","webpack:///./.occ-components/widgets/widget-core/widgetContext.js","webpack:///./.occ-components/widgets/widget-core/loaders/index.js","webpack:///./.occ-components/widgets/widget-core/loaders/widget.js","webpack:///./.occ-components/widgets/widget-core/decorators/index.js","webpack:///./.occ-components/widgets/widget-core/decorators/widgetViewModel.js","webpack:///./.occ-components/widgets/widget-core/helpers/index.js","webpack:///./.occ-components/widgets/widget-core/helpers/OERestClient.js","webpack:///external \"knockout\"","webpack:///external \"promise\"","webpack:///external \"ccRestClient\"","webpack:///./.occ-components/widgets/widget-core/helpers/CartHelper.js","webpack:///external \"jquery\"","webpack:///external \"pageLayout/cart\"","webpack:///external \"pubsub\"","webpack:///external \"ccConstants\"","webpack:///./.occ-components/widgets/widget-core/BaseWidget.js","webpack:///external \"ccLogger\"","webpack:///external \"viewportHelper\"","webpack:///./widgets/objectedge/oeValmorRVPDisplay/js/view-models/index.js","webpack:///./widgets/objectedge/oeValmorRVPDisplay/js/view-models/oeValmorRVPDisplay.js","webpack:///external \"storageApi\"","webpack:///./widgets/objectedge/oeValmorRVPDisplay/js/models/products.js","webpack:///./widgets/objectedge/oeValmorRVPDisplay/js/view-models/slide.js"],"names":["allViewModels","module","exports","init","loaders","decorators","helpers","BaseWidget","widgetLoader","onLoad","$data","load","beforeAppear","pageContext","resourcesLoaded","Widget","$","Topic","id","publish","$currentWidgetData","widgetContext","viewModels","instance","applyDataProperties","dataProperties","viewModel","context","Object","keys","forEach","propertyKey","prototype","$dataProperties","__widgetInstanceId","applyDataMethods","dataMethods","methodKey","args","Array","slice","call","arguments","push","apply","viewModelsInstances","viewModelName","$dataMethods","applyContexts","subscribe","viewModelInstance","exportToViewModel","target","key","descriptor","initializer","writable","propertyValue","getCurrentInstanceId","currentInstanceID","setCurrentPropertyValue","value","set","get","val","OERestClient","CartHelper","endpoint","path","query","Promise","resolve","reject","validate","error","request","response","TOPIC_ON_ALL_ITEMS_ADDED","widget","cart","getInstance","item","topicNames","CART_ADD","publishWith","items","isArray","addingQueue","currentSuccessCb","getCartCallbackByAction","PRICING_SUCCESS_CB","setPricingSuccessCallback","onPricingSuccess","bind","onItemsAdded","unsubscribe","success","length","addItemToCart","emptyCart","markDirty","action","allCallbacks","callbacks","callback","hasOwnProperty","property","isObservable","dynamicProperties","properties","some","prop","shift","saveCartCookie","saveCart","priceCartIfNeccessary","setCallbackFunctions","getDynamicPropertyById","setDynamicProperty","setCartCallback","PREPRICING","PRICING_FAILURE_CB","_setExtensionSettings","_setViewportHelper","siteSettings","observable","extensionSiteSettings","site","viewportHelper","viewportClass","pureComputed","viewportDesignation","isPhone","isTablet","isLaptop","isDesktop","_setCurrentViewport","viewport","currentViewport","viewportMapping","xs","sm","md","lg","viewportKey","hasSiteSettings","log","message","type","displayName","oeValmorRVPDisplay","STORAGE_KEY","storage","products","getConfig","getProducts","controlView","renderSlides","defaultValue","isNaN","parseInt","viewPort","title","getData","maxItems","itemsPerRowLargeDesktop","itemsPerRowDesktop","itemsPerRowTablet","itemsPerRowMobile","itemsPerRow","itemWidth","toLowerCase","parseFloat","config","productList","getItem","productId","product","productArray","split","filter","pid","splice","join","then","prod","catch","msg","console","slides","i","Math","ceil","Products","prodList","restClient","ENDPOINT_PRODUCTS_LIST_PRODUCTS","FIELDS_QUERY_PARAM","PRODUCT_IDS","SHOW_INACTIVE_PRODUCT","DATA_ONLY","setEndpoint","setQuery","setPath","send","Slide"],"mappings":"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","file":"/oeValmorRVPDisplay/oeValmorRVPDisplay.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6173e2d88f345a012ed7\n **/","import { widgetLoader } from 'occ-components/widget-core';\nimport * as allViewModels from './view-models';\n\n/**\n * We're using commonjs here because we don't have control\n * of the widget importation.\n */\nmodule.exports = widgetLoader(allViewModels);\n\n\n\n/** WEBPACK FOOTER **\n ** ./widgets/objectedge/oeValmorRVPDisplay/js/index.js\n **/","import * as loaders from './loaders';\nimport * as decorators from './decorators';\nimport * as helpers from './helpers';\nimport { BaseWidget } from './BaseWidget';\n\nexport { loaders };\nexport { decorators };\nexport { helpers };\nexport { BaseWidget };\nexport { init as widgetLoader } from './widgetContext';\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/index.js\n **/","import { Widget as WidgetLoader } from './loaders';\n\nexport function init(allViewModels) {\n  const widgetLoader = new WidgetLoader();\n\n  return {\n    onLoad($data) {\n      widgetLoader.load($data, this, allViewModels);\n    },\n\n    beforeAppear(pageContext) {\n      widgetLoader.beforeAppear(pageContext, this);\n    },\n\n    resourcesLoaded($data) {\n      widgetLoader.resourcesLoaded($data);\n    }\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/widgetContext.js\n **/","/**\n *\n * Loaders\n *\n */\n\n/**\n * Widget\n */\nexport { Widget } from './widget';\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/loaders/index.js\n **/","export class Widget {\n  resourcesLoaded($data) {\n    $.Topic('widget.' + $data.id() + '.resourcesLoaded').publish();\n  }\n\n  beforeAppear(pageContext, $data) {\n    $.Topic('widget.' + $data.id() + '.beforeAppear').publish(pageContext);\n  }\n\n  load($currentWidgetData, widgetContext, viewModels) {\n    let instance = this;\n\n    /**\n     * This will fix the $data context, keeping synced the \n     * properties from the viewModel and the $data from\n     * the widget\n     */\n    let applyDataProperties = (dataProperties, viewModel, context) => {\n      if(dataProperties) {\n        Object.keys(dataProperties).forEach(function (propertyKey) {\n          if(propertyKey !== '__dataApplied') {\n            context.$data[propertyKey] = context[propertyKey];\n          }\n        });\n        viewModel.prototype.$dataProperties.__widgetInstanceId = context.$data.id();\n      }\n    };\n\n    /**\n     * This will fix the context of the each method of\n     * each view model\n     */\n    let applyDataMethods = (dataMethods, context) => {\n      if(dataMethods) {\n        Object.keys(dataMethods).forEach(function (methodKey) {\n          context.$data[methodKey] = function () { \n            let args = Array.prototype.slice.call(arguments);\n\n            //Original this\n            args.push(this);\n            return dataMethods[methodKey].apply(context, args);\n          }\n        });\n      }\n    };\n\n    const viewModelsInstances = {};\n\n    Object.keys(viewModels).forEach(viewModelName => {\n      let viewModel = viewModels[viewModelName];\n      let dataMethods = viewModel.prototype.$dataMethods;\n      let dataProperties = viewModel.prototype.$dataProperties;\n\n      /**\n       * Ensure the correct context of the view model\n       */\n      viewModel.prototype.applyContexts = function (context) {\n        context.$data = $currentWidgetData;\n        context.viewModels = viewModelsInstances;\n\n        applyDataProperties(dataProperties, viewModel, context);\n\n        /**\n         * Apply the method of the current view model\n         */\n        applyDataMethods(dataMethods, context);\n\n        /**\n         * Set the listener to the beforeAppear\n         */\n        $.Topic('widget.' + $currentWidgetData.id() + '.beforeAppear').subscribe(pageContext => {\n          if(typeof context.beforeAppear === 'function') {\n            context.beforeAppear(pageContext);\n          }\n        });\n\n         /**\n         * Set the listener to the resourcesLoaded\n         */\n        $.Topic('widget.' + $currentWidgetData.id() + '.resourcesLoaded').subscribe(() => {\n          if(typeof context.resourcesLoaded === 'function') {\n            context.resourcesLoaded();\n          }\n        });\n      };\n\n      /**\n       * Instantiate the current view model\n       * @type {viewModel}\n       */\n      const viewModelInstance = new viewModel();\n      viewModelsInstances[viewModelName] = viewModelInstance;\n    });\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/loaders/widget.js\n **/","/**\n *\n * Decorators\n *\n */\n\n/**\n * Widget View Model\n */\nexport { exportToViewModel } from './widgetViewModel';\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/decorators/index.js\n **/","export function exportToViewModel(target, key, descriptor) {\n  if(typeof target.$data === 'undefined') {\n    target.$data = {};\n  }\n\n  if(typeof target.$dataMethods === 'undefined') {\n    target.$dataMethods = {};\n  }\n\n  if(typeof target.$dataProperties === 'undefined') {\n    target.$dataProperties = {};\n  }\n\n  /**\n   * Set method context and call it\n   */\n  if(typeof target[key] === 'function') {\n    target.$dataMethods[key] = target[key];\n    return descriptor;\n  }\n\n  /**\n   * It's a property, then set its getter and setter\n   */\n  let {initializer} = descriptor;\n  delete descriptor.initializer;\n  delete descriptor.writable;\n\n  /**\n   * Object where all values of the same view model will be placed.\n   *\n   * It's an object, because if there is more than one instance of the same widget, it has\n   * to delivery the right value for the right instance\n   * \n   * @type {Object}\n   */\n  const propertyValue = {};\n\n  /**\n   * Gets the current instance id of the widget. If there is no $data yet, then, it's the first\n   * \"value\" in this view model, then, it's id will be called 'root'\n   * \n   * @return {String} widget instance id\n   */\n  const getCurrentInstanceId = () => {\n    let currentInstanceID = target.$data.id ? target.$data.id() : 'root';\n\n    if(currentInstanceID !== 'root' && !propertyValue[currentInstanceID]) {\n      return 'root';\n    }\n\n    return currentInstanceID;\n  };\n\n  /**\n   * Updates the propertyValue object using the current widget widget\n   * @param  {Any} value any value\n   * @return {Any} returns the current value\n   */\n  const setCurrentPropertyValue = (value) => {\n    let currentInstanceID = getCurrentInstanceId();\n    propertyValue[currentInstanceID] = value;\n    return propertyValue[currentInstanceID];\n  };\n\n  /**\n   * Initializes the current property value\n   */\n  setCurrentPropertyValue(initializer.call(descriptor));\n\n  /**\n   * Setter of the property\n   * @param {Any} value any value\n   */\n  descriptor.set = function(value) {\n    setCurrentPropertyValue(value);\n  };\n\n  /**\n   * Getter of the property\n   * @return {Any} returns the current value\n   */\n  descriptor.get = function() {\n    let val = propertyValue[getCurrentInstanceId()];\n    \n    //If there are more than one instance of the same widget, reset the property\n    if(this.$dataProperties.__widgetInstanceId && this.$data.id() !== this.$dataProperties.__widgetInstanceId) {\n      val = setCurrentPropertyValue(initializer.call(descriptor));\n    }\n\n    target.$data[key] = val;\n    return val;\n  };\n\n  /**\n   * Attaches the new property to the widget $data.\n   */\n  target.$dataProperties[key] = target[key];\n  \n  return descriptor;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/decorators/widgetViewModel.js\n **/","export { OERestClient } from './OERestClient';\nexport { CartHelper } from './CartHelper';\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/helpers/index.js\n **/","import ko from 'knockout';\nimport promise from 'promise';\nimport restClient from 'ccRestClient';\n\nexport class OERestClient {\n  endpoint = null;\n  path = null;\n  query = null;\n\n  constructor (endpoint = '', path = '', query = {}) {\n    this.endpoint = endpoint;\n    this.path     = path;\n    this.query    = query;\n  }\n\n  /**\n   * Set the request endpoint\n   *\n   * @param  {String} endpoint The endpoint\n   * @return {Void}\n   */\n  setEndpoint (endpoint) {\n    this.endpoint = endpoint;\n  }\n\n  /**\n   * Set the path parameters\n   *\n   * @param  {String} path The path parameters\n   * @return {Void}\n   */\n  setPath (path) {\n    this.path = path;\n  }\n\n  /**\n   * Set the request query parameters\n   *\n   * @param  {Object} query The query parameters\n   * @return {Void}\n   */\n  setQuery (query) {\n    this.query = query;\n  }\n\n  /**\n   * Send the request to OCC\n   *\n   * @return {promise}\n   */\n  send () {\n    return new Promise((resolve, reject) => {\n      // Check required properties validity\n      if (!this.validate()) {\n        reject({error: 'Required fields not provided'});\n      }\n      // Request using OCC Rest Client\n      restClient.request(\n        this.endpoint,\n        this.query,\n        (response) => {\n          resolve(response);\n        },\n        (error) => {\n          reject(error);\n        },\n        this.path);\n    });\n  }\n\n  /**\n   * Validate the provided parameters\n   *\n   * @return {Boolean} Whether the provided parameters are valid or not\n   */\n  validate () {\n    return (this.endpoint) ? true : false;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/helpers/OERestClient.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"knockout\"\n ** module id = 9\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"promise\"\n ** module id = 10\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ccRestClient\"\n ** module id = 11\n ** module chunks = 0 1\n **/","/**\n * Dependencies\n */\nimport $ from 'jquery';\nimport ko from 'knockout';\nimport Cart from 'pageLayout/cart';\nimport pubsub from 'pubsub';\nimport ccConstants from 'ccConstants';\n\n/**\n * Constants\n */\nconst TOPIC_ON_ALL_ITEMS_ADDED = 'oe.on.all.items.added';\n\n/**\n * Helper for cart common actions\n *\n * @class\n *\n * @property {Object} widget The widget context\n * @property {Object} cart   OCC Cart instance\n */\nexport class CartHelper {\n  constructor (widget) {\n    this.widget = widget;\n    this.cart = Cart.getInstance();\n  }\n\n  /**\n   * Adds an item to cart\n   *\n   * @param {Object} item The item to add to cart\n   */\n  addItemToCart (item) {\n    $.Topic(pubsub.topicNames.CART_ADD).publishWith(item);\n  }\n\n  /**\n   * Add multiple items to cart\n   *\n   * @param {Array} items A list of items\n   *\n   * @return {Promise} A promise to wait for adding\n   */\n  addMultipleItemsToCart (items) {\n    // If items is not an array, reject the promise\n    if (!$.isArray(items)) {\n      return Promise.reject({error: 'An array of items must be provided!'});\n    } else {\n      // Create a temporary items array in the helper\n      this.addingQueue = items;\n\n      // Store the current pricing success callback\n      const currentSuccessCb = this.getCartCallbackByAction(ccConstants.PRICING_SUCCESS_CB);\n\n      // Replace the pricing success callback to handle the multiple add to cart\n      this.setPricingSuccessCallback(this.onPricingSuccess.bind(this));\n\n      return new Promise((resolve) => {\n        // Handle action end\n        const onItemsAdded = () => {\n          // In case of empty list:\n          // - remove the topic subscribe\n          $.Topic(TOPIC_ON_ALL_ITEMS_ADDED).unsubscribe(onItemsAdded);\n          // - return the previous pricing success callback\n          this.setPricingSuccessCallback(currentSuccessCb);\n          // - resolve the promise\n          resolve({success: true});\n        };\n\n        // Unsubscribe and subscribe again to avoid stacking\n        $.Topic(TOPIC_ON_ALL_ITEMS_ADDED).unsubscribe(onItemsAdded);\n        $.Topic(TOPIC_ON_ALL_ITEMS_ADDED).subscribe(onItemsAdded);\n\n        // If we have a list of items in queue,\n        // send the first to cart to start the loop\n        if (this.addingQueue.length) {\n          this.addItemToCart(this.addingQueue[0]);\n        } else {\n          // Call the action end handler manually\n          onItemsAdded();\n        }\n      });\n    }\n  }\n\n  /**\n   * Empty the cart\n   */\n  clearCart () {\n    this.cart.emptyCart();\n    this.cart.markDirty();\n  }\n\n  /**\n   * Get a cart callback given an action\n   *\n   * @param {String} action The action performed by the callback\n   *\n   * @return {Function|Undefined} The callback\n   */\n  getCartCallbackByAction (action) {\n    const allCallbacks = this.cart.callbacks;\n    let callback;\n\n    if (allCallbacks.hasOwnProperty(action)) {\n      callback = allCallbacks[action];\n    }\n\n    return callback;\n  }\n\n  /**\n   * Get a dynamic property given an ID\n   *\n   * @param {String} id The dynamic property ID to look for\n   *\n   * @return {Object|Undefined} The dynamic property or nothing\n   */\n  getDynamicPropertyById (id = '') {\n    let property;\n\n    if (this.cart && ko.isObservable(this.cart.dynamicProperties)) {\n      const properties = this.cart.dynamicProperties();\n\n      // Using 'some' due to IE11 compatibility issues\n      properties.some(prop => {\n        if (prop.id() === id) {\n          property = prop;\n          return true;\n        }\n      });\n    }\n\n    return property;\n  }\n\n  /**\n   * Handle pricing success for multiple add to cart\n   */\n  onPricingSuccess () {\n    // Apply this defensive check to avoid page break\n    if ($.isArray(this.addingQueue)) {\n      // Remove the recently added product\n      this.addingQueue.shift();\n\n      // If there is remaining items in list, add the first to cart\n      if (this.addingQueue.length) {\n        this.addItemToCart(this.addingQueue[0]);\n      } else {\n        // Otherwise, notify the action end\n        $.Topic(TOPIC_ON_ALL_ITEMS_ADDED).publish();\n      }\n    }\n  }\n\n  /**\n   * Save current cart state to cookies\n   */\n  saveCart () {\n    this.cart.saveCartCookie();\n  }\n\n  /**\n   * Save current cart state to cookies and price the cart\n   */\n  saveCartAndPersist () {\n    this.saveCart();\n    this.cart.priceCartIfNeccessary(true);\n  }\n\n  /**\n   * Set a callback to cart given the action\n   *\n   * @param {String}   action   The callback action\n   * @param {Function} callback The callback\n   */\n  setCartCallback (action, callback) {\n    if (action && typeof (callback) === 'function') {\n      const allCallbacks = this.cart.callbacks;\n\n      allCallbacks[action] = callback;\n\n      this.cart.setCallbackFunctions(allCallbacks);\n    }\n  }\n\n  /**\n   * Set a dynamic property value\n   *\n   * @param {Object} property The dynamic property\n   * @param {Any}    value    The new value\n   */\n  setDynamicProperty (property, value) {\n    if (property && ko.isObservable(property.value)) {\n      property.value(value);\n    }\n  }\n\n  /**\n   * Set a dynamic property value given an id\n   *\n   * @param {String} id    The dynamic property id\n   * @param {Any}    value The new value\n   */\n  setDynamicPropertyById (id, value) {\n    const property = this.getDynamicPropertyById(id);\n\n    if (property) {\n      this.setDynamicProperty(property, value);\n    }\n  }\n\n  /**\n   * Set prepricing callback to cart\n   *\n   * @param {Function} callback The callback to handle prepricing action\n   */\n  setPrepricingCallback (callback) {\n    this.setCartCallback(ccConstants.PREPRICING, callback);\n  }\n\n  /**\n   * Set failure pricing callback to cart\n   *\n   * @param {Function} callback The callback to handle failure pricing action\n   */\n  setPricingFailureCallback (callback) {\n    this.setCartCallback(ccConstants.PRICING_FAILURE_CB, callback);\n  }\n\n  /**\n   * Set success pricing callback to cart\n   *\n   * @param {Function} callback The callback to handle success pricing action\n   */\n  setPricingSuccessCallback (callback) {\n    this.setCartCallback(ccConstants.PRICING_SUCCESS_CB, callback);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/helpers/CartHelper.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jquery\"\n ** module id = 13\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"pageLayout/cart\"\n ** module id = 14\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"pubsub\"\n ** module id = 15\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_16__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ccConstants\"\n ** module id = 16\n ** module chunks = 0 1\n **/","import ko from 'knockout';\nimport ccLogger from 'ccLogger';\nimport viewportHelper from 'viewportHelper';\n\nexport class BaseWidget {\n  constructor() {\n    this.applyContexts(this);\n    this._setExtensionSettings();\n    this._setViewportHelper();\n  }\n\n  _setExtensionSettings() {\n    this.$data.siteSettings = ko.observable();\n    \n    let extensionSiteSettings = this.$data.site().extensionSiteSettings;\n    this.$data.siteSettings(Object.keys(extensionSiteSettings).length ? extensionSiteSettings : null);\n  }\n\n  _setViewportHelper() {\n    this.$data.viewportHelper = viewportHelper;\n    this.$data.viewportClass = ko.pureComputed(function () {\n      return 'viewport-' + viewportHelper.viewportDesignation();\n    });\n\n    this.$data.isPhone = ko.observable(false);\n    this.$data.isTablet = ko.observable(false);\n    this.$data.isLaptop = ko.observable(false);\n    this.$data.isDesktop = ko.observable(false);\n\n    this._setCurrentViewport(viewportHelper.viewportDesignation());\n\n    viewportHelper.viewportDesignation.subscribe(viewport => this._setCurrentViewport(viewport));\n  }\n\n  _setCurrentViewport(currentViewport) {\n    let viewportMapping = {};\n\n    viewportMapping.xs = this.$data.isPhone;\n    viewportMapping.sm = this.$data.isTablet;\n    viewportMapping.md = this.$data.isLaptop;\n    viewportMapping.lg = this.$data.isDesktop;\n\n    Object.keys(viewportMapping).forEach((viewportKey) => viewportMapping[viewportKey](viewportKey === currentViewport));\n  }\n\n  getSiteSetting(key) {\n    if(!this.hasSiteSettings()) {\n      this.log('There is no Site Settings configured', 'warn');\n      return false;\n    }\n\n    let siteSettings = this.$data.siteSettings();\n\n    if(typeof siteSettings[key] === 'undefined') {\n      this.log(`The setting ${key} doesn't exist`, 'warn');\n      return false;\n    }\n\n    return siteSettings[key];\n  }\n\n  hasSiteSettings() {\n    return this.$data.siteSettings() !== null;\n  }\n\n  log(message, type = 'info', context) {\n    context = context || this.$data.displayName();    \n    ccLogger[type](`[OE][${context}] - ${message}`);\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./.occ-components/widgets/widget-core/BaseWidget.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ccLogger\"\n ** module id = 18\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_19__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"viewportHelper\"\n ** module id = 19\n ** module chunks = 0 1\n **/","export { oeValmorRVPDisplay } from './oeValmorRVPDisplay';\n\n\n\n/** WEBPACK FOOTER **\n ** ./widgets/objectedge/oeValmorRVPDisplay/js/view-models/index.js\n **/","/**\n * Core\n */\nimport { exportToViewModel } from 'occ-components/widget-core/decorators';\nimport { BaseWidget } from 'occ-components/widget-core';\n\n/**\n * Libraries, Helpers\n */\nimport ccConstants from 'ccConstants';\nimport ko from 'knockout';\nimport storageApi from 'storageApi';\nimport viewportHelper from 'viewportHelper';\n\n/**\n * Models\n */\nimport Products from '../models/products';\nimport Slide from './slide';\n\nconst STORAGE_KEY = 'oe-valmor-recently-viewed-products';\n\nexport class oeValmorRVPDisplay extends BaseWidget {\n\n  @exportToViewModel\n  config = ko.observable();\n\n  @exportToViewModel\n  slides = ko.observable([]);\n\n  /**\n   * On load view model\n   */\n  constructor() {\n    //Constructing the BaseWidget\n    super();\n    this.storage = storageApi.getInstance();\n    this.products = [];\n\n    this.getConfig();\n    this.getProducts();\n  }\n\n  beforeAppear() {\n    this.controlView();\n  }\n\n  controlView() {\n    viewportHelper.viewportDesignation.subscribe((viewport) => {\n      this.getConfig();\n      this.renderSlides();\n    });\n  }\n\n  getData(prop, type = null, defaultValue) {\n    let value = defaultValue;\n    switch(type) {\n      case 'num':\n        if (prop && this.$data.hasOwnProperty(prop) && typeof this.$data[prop] === 'function' && !isNaN(this.$data[prop]())) {\n          value = parseInt(this.$data[prop](), 10);\n        }\n        break;\n      case 'str':\n      default:\n        if (prop && this.$data.hasOwnProperty(prop) && typeof this.$data[prop] === 'function' && this.$data[prop]()) {\n          value = this.$data[prop]();\n        }\n        break;\n    }\n    return value;\n  }\n\n  getConfig() {\n    const viewPort = viewportHelper.viewportDesignation();\n    const title = this.getData('carouselTitle', 'str', '');\n    const maxItems = this.getData('maxItems', 'num', 8);\n    const itemsPerRowLargeDesktop = this.getData('itemsPerRowLargeDesktop', 'num', 4);\n    const itemsPerRowDesktop = this.getData('itemsPerRowDesktop', 'num', 4);\n    const itemsPerRowTablet = this.getData('itemsPerRowTablet', 'num', 2);\n    const itemsPerRowMobile = this.getData('itemsPerRowMobile', 'num', 2);\n    let itemsPerRow = 0;\n    let itemWidth = 0;\n\n    switch(viewPort.toLowerCase()) {\n      case 'xs':\n        itemsPerRow = itemsPerRowMobile;\n        break;\n      case 'sm':\n        itemsPerRow = itemsPerRowTablet;\n        break;\n      case 'lg':\n        itemsPerRow = itemsPerRowLargeDesktop;\n        break;\n      default:\n        itemsPerRow = itemsPerRowDesktop;\n    }\n\n    itemWidth = parseFloat(100 / itemsPerRow) + '%';\n\n    this.config({\n      title,\n      maxItems,\n      itemsPerRow,\n      itemWidth,\n    });\n  }\n\n  getProducts() {\n    const productList = this.storage.getItem(STORAGE_KEY);\n    const maxItems = this.getData('maxItems', 'num', 8);\n    const productId = this.$data.product && typeof this.$data.product === 'function' && this.$data.product() ? this.$data.product().id() : null;\n    const productArray = productList && productList !== '' ? productList.split(';') : [];\n    return new Products()\n      .getProducts(productArray.filter((pid) => !productId || pid !== productId).splice(0, maxItems).join(','))\n      .then((prod) => {\n        this.products = prod;\n        this.renderSlides();\n      })\n      .catch((msg) => {\n        console.log('Unable to retrieve product ', msg);\n      });\n  }\n\n  renderSlides() {\n    const slides = [];\n    const { itemsPerRow } = this.config();\n    const products = [...this.products];\n    for(let i = 0 ; i < Math.ceil(this.products.length / itemsPerRow); i++) {\n      slides.push(new Slide(products.splice(0, itemsPerRow)));\n    }\n    this.slides(slides);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./widgets/objectedge/oeValmorRVPDisplay/js/view-models/oeValmorRVPDisplay.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"storageApi\"\n ** module id = 22\n ** module chunks = 0 1\n **/","import constants from 'ccConstants';\nimport { OERestClient } from 'occ-components/widget-core/helpers';\n\nexport default class Products {\n\n  constructor(prodList) {\n    if (prodList) {\n      this.getProducts(prodList);\n    }\n  }\n\n  getProducts(prodList) {\n    const restClient = new OERestClient;\n    const endpoint = constants.ENDPOINT_PRODUCTS_LIST_PRODUCTS;\n    const query = {};\n\n    query[constants.FIELDS_QUERY_PARAM] = \"active,id,route,displayName,primaryThumbImageURL,listPrice,salePrice\";\n    query[constants.PRODUCT_IDS] = prodList;\n    query[constants.SHOW_INACTIVE_PRODUCT] = false;\n    query[constants.DATA_ONLY] = true;\n\n    restClient.setEndpoint(endpoint);\n    restClient.setQuery(query);\n    restClient.setPath();\n    return restClient.send();\n  }\n};\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./widgets/objectedge/oeValmorRVPDisplay/js/models/products.js\n **/","export default class Slide {\n\n  constructor(prodList) {\n    this.products = Array.isArray(prodList) ? [...prodList] : [];\n  }\n\n};\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./widgets/objectedge/oeValmorRVPDisplay/js/view-models/slide.js\n **/"],"sourceRoot":""}