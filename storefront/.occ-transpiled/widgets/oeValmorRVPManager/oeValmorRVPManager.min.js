define(["knockout","promise","ccRestClient","jquery","pageLayout/cart","pubsub","ccConstants","ccLogger","viewportHelper","storageApi"],function(__WEBPACK_EXTERNAL_MODULE_9__,__WEBPACK_EXTERNAL_MODULE_10__,__WEBPACK_EXTERNAL_MODULE_11__,__WEBPACK_EXTERNAL_MODULE_13__,__WEBPACK_EXTERNAL_MODULE_14__,__WEBPACK_EXTERNAL_MODULE_15__,__WEBPACK_EXTERNAL_MODULE_16__,__WEBPACK_EXTERNAL_MODULE_18__,__WEBPACK_EXTERNAL_MODULE_19__,__WEBPACK_EXTERNAL_MODULE_29__){return function(e){function n(i){if(t[i])return t[i].exports;var c=t[i]={exports:{},id:i,loaded:!1};return e[i].call(c.exports,c,c.exports,n),c.loaded=!0,c.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _widgetCore = __webpack_require__(1);\n\nvar _viewModels = __webpack_require__(32);\n\nvar allViewModels = _interopRequireWildcard(_viewModels);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * We're using commonjs here because we don't have control\n * of the widget importation.\n */\nmodule.exports = (0, _widgetCore.widgetLoader)(allViewModels);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93aWRnZXRzL29iamVjdGVkZ2Uvb2VWYWxtb3JSVlBNYW5hZ2VyL2pzL2luZGV4LmpzP2ZmNzYiXSwibmFtZXMiOlsiYWxsVmlld01vZGVscyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0lBQVlBLGE7Ozs7QUFFWjs7OztBQUlBQyxPQUFPQyxPQUFQLEdBQWlCLDhCQUFhRixhQUFiLENBQWpCIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3aWRnZXRMb2FkZXIgfSBmcm9tICdvY2MtY29tcG9uZW50cy93aWRnZXQtY29yZSc7XG5pbXBvcnQgKiBhcyBhbGxWaWV3TW9kZWxzIGZyb20gJy4vdmlldy1tb2RlbHMnO1xuXG4vKipcbiAqIFdlJ3JlIHVzaW5nIGNvbW1vbmpzIGhlcmUgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIGNvbnRyb2xcbiAqIG9mIHRoZSB3aWRnZXQgaW1wb3J0YXRpb24uXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gd2lkZ2V0TG9hZGVyKGFsbFZpZXdNb2RlbHMpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi93aWRnZXRzL29iamVjdGVkZ2Uvb2VWYWxtb3JSVlBNYW5hZ2VyL2pzL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.widgetLoader = exports.BaseWidget = exports.helpers = exports.decorators = exports.loaders = undefined;\n\nvar _widgetContext = __webpack_require__(2);\n\nObject.defineProperty(exports, 'widgetLoader', {\n  enumerable: true,\n  get: function get() {\n    return _widgetContext.init;\n  }\n});\n\nvar _loaders = __webpack_require__(3);\n\nvar loaders = _interopRequireWildcard(_loaders);\n\nvar _decorators = __webpack_require__(5);\n\nvar decorators = _interopRequireWildcard(_decorators);\n\nvar _helpers = __webpack_require__(7);\n\nvar helpers = _interopRequireWildcard(_helpers);\n\nvar _BaseWidget = __webpack_require__(17);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.loaders = loaders;\nexports.decorators = decorators;\nexports.helpers = helpers;\nexports.BaseWidget = _BaseWidget.BaseWidget;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9pbmRleC5qcz83MDIzIl0sIm5hbWVzIjpbImluaXQiLCJsb2FkZXJzIiwiZGVjb3JhdG9ycyIsImhlbHBlcnMiLCJCYXNlV2lkZ2V0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7MEJBU1NBLEk7Ozs7QUFUVDs7SUFBWUMsTzs7QUFDWjs7SUFBWUMsVTs7QUFDWjs7SUFBWUMsTzs7QUFDWjs7OztRQUVTRixPLEdBQUFBLE87UUFDQUMsVSxHQUFBQSxVO1FBQ0FDLE8sR0FBQUEsTztRQUNBQyxVIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBsb2FkZXJzIGZyb20gJy4vbG9hZGVycyc7XG5pbXBvcnQgKiBhcyBkZWNvcmF0b3JzIGZyb20gJy4vZGVjb3JhdG9ycyc7XG5pbXBvcnQgKiBhcyBoZWxwZXJzIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBCYXNlV2lkZ2V0IH0gZnJvbSAnLi9CYXNlV2lkZ2V0JztcblxuZXhwb3J0IHsgbG9hZGVycyB9O1xuZXhwb3J0IHsgZGVjb3JhdG9ycyB9O1xuZXhwb3J0IHsgaGVscGVycyB9O1xuZXhwb3J0IHsgQmFzZVdpZGdldCB9O1xuZXhwb3J0IHsgaW5pdCBhcyB3aWRnZXRMb2FkZXIgfSBmcm9tICcuL3dpZGdldENvbnRleHQnO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9pbmRleC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\n\nvar _loaders = __webpack_require__(3);\n\nfunction init(allViewModels) {\n  var widgetLoader = new _loaders.Widget();\n\n  return {\n    onLoad: function onLoad($data) {\n      widgetLoader.load($data, this, allViewModels);\n    },\n    beforeAppear: function beforeAppear(pageContext) {\n      widgetLoader.beforeAppear(pageContext, this);\n    },\n    resourcesLoaded: function resourcesLoaded($data) {\n      widgetLoader.resourcesLoaded($data);\n    }\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS93aWRnZXRDb250ZXh0LmpzPzZhZjAiXSwibmFtZXMiOlsiaW5pdCIsImFsbFZpZXdNb2RlbHMiLCJ3aWRnZXRMb2FkZXIiLCJvbkxvYWQiLCIkZGF0YSIsImxvYWQiLCJiZWZvcmVBcHBlYXIiLCJwYWdlQ29udGV4dCIsInJlc291cmNlc0xvYWRlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFFZ0JBLEksR0FBQUEsSTs7QUFGaEI7O0FBRU8sU0FBU0EsSUFBVCxDQUFjQyxhQUFkLEVBQTZCO0FBQ2xDLE1BQU1DLGVBQWUscUJBQXJCOztBQUVBLFNBQU87QUFDTEMsVUFESyxrQkFDRUMsS0FERixFQUNTO0FBQ1pGLG1CQUFhRyxJQUFiLENBQWtCRCxLQUFsQixFQUF5QixJQUF6QixFQUErQkgsYUFBL0I7QUFDRCxLQUhJO0FBS0xLLGdCQUxLLHdCQUtRQyxXQUxSLEVBS3FCO0FBQ3hCTCxtQkFBYUksWUFBYixDQUEwQkMsV0FBMUIsRUFBdUMsSUFBdkM7QUFDRCxLQVBJO0FBU0xDLG1CQVRLLDJCQVNXSixLQVRYLEVBU2tCO0FBQ3JCRixtQkFBYU0sZUFBYixDQUE2QkosS0FBN0I7QUFDRDtBQVhJLEdBQVA7QUFhRCIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV2lkZ2V0IGFzIFdpZGdldExvYWRlciB9IGZyb20gJy4vbG9hZGVycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KGFsbFZpZXdNb2RlbHMpIHtcbiAgY29uc3Qgd2lkZ2V0TG9hZGVyID0gbmV3IFdpZGdldExvYWRlcigpO1xuXG4gIHJldHVybiB7XG4gICAgb25Mb2FkKCRkYXRhKSB7XG4gICAgICB3aWRnZXRMb2FkZXIubG9hZCgkZGF0YSwgdGhpcywgYWxsVmlld01vZGVscyk7XG4gICAgfSxcblxuICAgIGJlZm9yZUFwcGVhcihwYWdlQ29udGV4dCkge1xuICAgICAgd2lkZ2V0TG9hZGVyLmJlZm9yZUFwcGVhcihwYWdlQ29udGV4dCwgdGhpcyk7XG4gICAgfSxcblxuICAgIHJlc291cmNlc0xvYWRlZCgkZGF0YSkge1xuICAgICAgd2lkZ2V0TG9hZGVyLnJlc291cmNlc0xvYWRlZCgkZGF0YSk7XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vLm9jYy1jb21wb25lbnRzL3dpZGdldHMvd2lkZ2V0LWNvcmUvd2lkZ2V0Q29udGV4dC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _widget = __webpack_require__(4);\n\nObject.defineProperty(exports, 'Widget', {\n  enumerable: true,\n  get: function get() {\n    return _widget.Widget;\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9sb2FkZXJzL2luZGV4LmpzP2VjYmEiXSwibmFtZXMiOlsiV2lkZ2V0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OzttQkFTU0EsTSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogTG9hZGVyc1xuICpcbiAqL1xuXG4vKipcbiAqIFdpZGdldFxuICovXG5leHBvcnQgeyBXaWRnZXQgfSBmcm9tICcuL3dpZGdldCc7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLy5vY2MtY29tcG9uZW50cy93aWRnZXRzL3dpZGdldC1jb3JlL2xvYWRlcnMvaW5kZXguanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Widget = exports.Widget = function () {\n  function Widget() {\n    _classCallCheck(this, Widget);\n  }\n\n  _createClass(Widget, [{\n    key: 'resourcesLoaded',\n    value: function resourcesLoaded($data) {\n      $.Topic('widget.' + $data.id() + '.resourcesLoaded').publish();\n    }\n  }, {\n    key: 'beforeAppear',\n    value: function beforeAppear(pageContext, $data) {\n      $.Topic('widget.' + $data.id() + '.beforeAppear').publish(pageContext);\n    }\n  }, {\n    key: 'load',\n    value: function load($currentWidgetData, widgetContext, viewModels) {\n      var instance = this;\n\n      /**\n       * This will fix the $data context, keeping synced the \n       * properties from the viewModel and the $data from\n       * the widget\n       */\n      var applyDataProperties = function applyDataProperties(dataProperties, viewModel, context) {\n        if (dataProperties) {\n          Object.keys(dataProperties).forEach(function (propertyKey) {\n            if (propertyKey !== '__dataApplied') {\n              context.$data[propertyKey] = context[propertyKey];\n            }\n          });\n          viewModel.prototype.$dataProperties.__widgetInstanceId = context.$data.id();\n        }\n      };\n\n      /**\n       * This will fix the context of the each method of\n       * each view model\n       */\n      var applyDataMethods = function applyDataMethods(dataMethods, context) {\n        if (dataMethods) {\n          Object.keys(dataMethods).forEach(function (methodKey) {\n            context.$data[methodKey] = function () {\n              var args = Array.prototype.slice.call(arguments);\n\n              //Original this\n              args.push(this);\n              return dataMethods[methodKey].apply(context, args);\n            };\n          });\n        }\n      };\n\n      var viewModelsInstances = {};\n\n      Object.keys(viewModels).forEach(function (viewModelName) {\n        var viewModel = viewModels[viewModelName];\n        var dataMethods = viewModel.prototype.$dataMethods;\n        var dataProperties = viewModel.prototype.$dataProperties;\n\n        /**\n         * Ensure the correct context of the view model\n         */\n        viewModel.prototype.applyContexts = function (context) {\n          context.$data = $currentWidgetData;\n          context.viewModels = viewModelsInstances;\n\n          applyDataProperties(dataProperties, viewModel, context);\n\n          /**\n           * Apply the method of the current view model\n           */\n          applyDataMethods(dataMethods, context);\n\n          /**\n           * Set the listener to the beforeAppear\n           */\n          $.Topic('widget.' + $currentWidgetData.id() + '.beforeAppear').subscribe(function (pageContext) {\n            if (typeof context.beforeAppear === 'function') {\n              context.beforeAppear(pageContext);\n            }\n          });\n\n          /**\n          * Set the listener to the resourcesLoaded\n          */\n          $.Topic('widget.' + $currentWidgetData.id() + '.resourcesLoaded').subscribe(function () {\n            if (typeof context.resourcesLoaded === 'function') {\n              context.resourcesLoaded();\n            }\n          });\n        };\n\n        /**\n         * Instantiate the current view model\n         * @type {viewModel}\n         */\n        var viewModelInstance = new viewModel();\n        viewModelsInstances[viewModelName] = viewModelInstance;\n      });\n    }\n  }]);\n\n  return Widget;\n}();\n\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9sb2FkZXJzL3dpZGdldC5qcz84OGEzIl0sIm5hbWVzIjpbIldpZGdldCIsIiRkYXRhIiwiJCIsIlRvcGljIiwiaWQiLCJwdWJsaXNoIiwicGFnZUNvbnRleHQiLCIkY3VycmVudFdpZGdldERhdGEiLCJ3aWRnZXRDb250ZXh0Iiwidmlld01vZGVscyIsImluc3RhbmNlIiwiYXBwbHlEYXRhUHJvcGVydGllcyIsImRhdGFQcm9wZXJ0aWVzIiwidmlld01vZGVsIiwiY29udGV4dCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwicHJvcGVydHlLZXkiLCJwcm90b3R5cGUiLCIkZGF0YVByb3BlcnRpZXMiLCJfX3dpZGdldEluc3RhbmNlSWQiLCJhcHBseURhdGFNZXRob2RzIiwiZGF0YU1ldGhvZHMiLCJtZXRob2RLZXkiLCJhcmdzIiwiQXJyYXkiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJwdXNoIiwiYXBwbHkiLCJ2aWV3TW9kZWxzSW5zdGFuY2VzIiwidmlld01vZGVsTmFtZSIsIiRkYXRhTWV0aG9kcyIsImFwcGx5Q29udGV4dHMiLCJzdWJzY3JpYmUiLCJiZWZvcmVBcHBlYXIiLCJyZXNvdXJjZXNMb2FkZWQiLCJ2aWV3TW9kZWxJbnN0YW5jZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFhQSxNLFdBQUFBLE07Ozs7Ozs7b0NBQ0tDLEssRUFBTztBQUNyQkMsUUFBRUMsS0FBRixDQUFRLFlBQVlGLE1BQU1HLEVBQU4sRUFBWixHQUF5QixrQkFBakMsRUFBcURDLE9BQXJEO0FBQ0Q7OztpQ0FFWUMsVyxFQUFhTCxLLEVBQU87QUFDL0JDLFFBQUVDLEtBQUYsQ0FBUSxZQUFZRixNQUFNRyxFQUFOLEVBQVosR0FBeUIsZUFBakMsRUFBa0RDLE9BQWxELENBQTBEQyxXQUExRDtBQUNEOzs7eUJBRUlDLGtCLEVBQW9CQyxhLEVBQWVDLFUsRUFBWTtBQUNsRCxVQUFJQyxXQUFXLElBQWY7O0FBRUE7Ozs7O0FBS0EsVUFBSUMsc0JBQXNCLFNBQXRCQSxtQkFBc0IsQ0FBQ0MsY0FBRCxFQUFpQkMsU0FBakIsRUFBNEJDLE9BQTVCLEVBQXdDO0FBQ2hFLFlBQUdGLGNBQUgsRUFBbUI7QUFDakJHLGlCQUFPQyxJQUFQLENBQVlKLGNBQVosRUFBNEJLLE9BQTVCLENBQW9DLFVBQVVDLFdBQVYsRUFBdUI7QUFDekQsZ0JBQUdBLGdCQUFnQixlQUFuQixFQUFvQztBQUNsQ0osc0JBQVFiLEtBQVIsQ0FBY2lCLFdBQWQsSUFBNkJKLFFBQVFJLFdBQVIsQ0FBN0I7QUFDRDtBQUNGLFdBSkQ7QUFLQUwsb0JBQVVNLFNBQVYsQ0FBb0JDLGVBQXBCLENBQW9DQyxrQkFBcEMsR0FBeURQLFFBQVFiLEtBQVIsQ0FBY0csRUFBZCxFQUF6RDtBQUNEO0FBQ0YsT0FURDs7QUFXQTs7OztBQUlBLFVBQUlrQixtQkFBbUIsU0FBbkJBLGdCQUFtQixDQUFDQyxXQUFELEVBQWNULE9BQWQsRUFBMEI7QUFDL0MsWUFBR1MsV0FBSCxFQUFnQjtBQUNkUixpQkFBT0MsSUFBUCxDQUFZTyxXQUFaLEVBQXlCTixPQUF6QixDQUFpQyxVQUFVTyxTQUFWLEVBQXFCO0FBQ3BEVixvQkFBUWIsS0FBUixDQUFjdUIsU0FBZCxJQUEyQixZQUFZO0FBQ3JDLGtCQUFJQyxPQUFPQyxNQUFNUCxTQUFOLENBQWdCUSxLQUFoQixDQUFzQkMsSUFBdEIsQ0FBMkJDLFNBQTNCLENBQVg7O0FBRUE7QUFDQUosbUJBQUtLLElBQUwsQ0FBVSxJQUFWO0FBQ0EscUJBQU9QLFlBQVlDLFNBQVosRUFBdUJPLEtBQXZCLENBQTZCakIsT0FBN0IsRUFBc0NXLElBQXRDLENBQVA7QUFDRCxhQU5EO0FBT0QsV0FSRDtBQVNEO0FBQ0YsT0FaRDs7QUFjQSxVQUFNTyxzQkFBc0IsRUFBNUI7O0FBRUFqQixhQUFPQyxJQUFQLENBQVlQLFVBQVosRUFBd0JRLE9BQXhCLENBQWdDLHlCQUFpQjtBQUMvQyxZQUFJSixZQUFZSixXQUFXd0IsYUFBWCxDQUFoQjtBQUNBLFlBQUlWLGNBQWNWLFVBQVVNLFNBQVYsQ0FBb0JlLFlBQXRDO0FBQ0EsWUFBSXRCLGlCQUFpQkMsVUFBVU0sU0FBVixDQUFvQkMsZUFBekM7O0FBRUE7OztBQUdBUCxrQkFBVU0sU0FBVixDQUFvQmdCLGFBQXBCLEdBQW9DLFVBQVVyQixPQUFWLEVBQW1CO0FBQ3JEQSxrQkFBUWIsS0FBUixHQUFnQk0sa0JBQWhCO0FBQ0FPLGtCQUFRTCxVQUFSLEdBQXFCdUIsbUJBQXJCOztBQUVBckIsOEJBQW9CQyxjQUFwQixFQUFvQ0MsU0FBcEMsRUFBK0NDLE9BQS9DOztBQUVBOzs7QUFHQVEsMkJBQWlCQyxXQUFqQixFQUE4QlQsT0FBOUI7O0FBRUE7OztBQUdBWixZQUFFQyxLQUFGLENBQVEsWUFBWUksbUJBQW1CSCxFQUFuQixFQUFaLEdBQXNDLGVBQTlDLEVBQStEZ0MsU0FBL0QsQ0FBeUUsdUJBQWU7QUFDdEYsZ0JBQUcsT0FBT3RCLFFBQVF1QixZQUFmLEtBQWdDLFVBQW5DLEVBQStDO0FBQzdDdkIsc0JBQVF1QixZQUFSLENBQXFCL0IsV0FBckI7QUFDRDtBQUNGLFdBSkQ7O0FBTUM7OztBQUdESixZQUFFQyxLQUFGLENBQVEsWUFBWUksbUJBQW1CSCxFQUFuQixFQUFaLEdBQXNDLGtCQUE5QyxFQUFrRWdDLFNBQWxFLENBQTRFLFlBQU07QUFDaEYsZ0JBQUcsT0FBT3RCLFFBQVF3QixlQUFmLEtBQW1DLFVBQXRDLEVBQWtEO0FBQ2hEeEIsc0JBQVF3QixlQUFSO0FBQ0Q7QUFDRixXQUpEO0FBS0QsU0E1QkQ7O0FBOEJBOzs7O0FBSUEsWUFBTUMsb0JBQW9CLElBQUkxQixTQUFKLEVBQTFCO0FBQ0FtQiw0QkFBb0JDLGFBQXBCLElBQXFDTSxpQkFBckM7QUFDRCxPQTVDRDtBQTZDRDs7Ozs7O0FBQ0YiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBXaWRnZXQge1xuICByZXNvdXJjZXNMb2FkZWQoJGRhdGEpIHtcbiAgICAkLlRvcGljKCd3aWRnZXQuJyArICRkYXRhLmlkKCkgKyAnLnJlc291cmNlc0xvYWRlZCcpLnB1Ymxpc2goKTtcbiAgfVxuXG4gIGJlZm9yZUFwcGVhcihwYWdlQ29udGV4dCwgJGRhdGEpIHtcbiAgICAkLlRvcGljKCd3aWRnZXQuJyArICRkYXRhLmlkKCkgKyAnLmJlZm9yZUFwcGVhcicpLnB1Ymxpc2gocGFnZUNvbnRleHQpO1xuICB9XG5cbiAgbG9hZCgkY3VycmVudFdpZGdldERhdGEsIHdpZGdldENvbnRleHQsIHZpZXdNb2RlbHMpIHtcbiAgICBsZXQgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGZpeCB0aGUgJGRhdGEgY29udGV4dCwga2VlcGluZyBzeW5jZWQgdGhlIFxuICAgICAqIHByb3BlcnRpZXMgZnJvbSB0aGUgdmlld01vZGVsIGFuZCB0aGUgJGRhdGEgZnJvbVxuICAgICAqIHRoZSB3aWRnZXRcbiAgICAgKi9cbiAgICBsZXQgYXBwbHlEYXRhUHJvcGVydGllcyA9IChkYXRhUHJvcGVydGllcywgdmlld01vZGVsLCBjb250ZXh0KSA9PiB7XG4gICAgICBpZihkYXRhUHJvcGVydGllcykge1xuICAgICAgICBPYmplY3Qua2V5cyhkYXRhUHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHlLZXkpIHtcbiAgICAgICAgICBpZihwcm9wZXJ0eUtleSAhPT0gJ19fZGF0YUFwcGxpZWQnKSB7XG4gICAgICAgICAgICBjb250ZXh0LiRkYXRhW3Byb3BlcnR5S2V5XSA9IGNvbnRleHRbcHJvcGVydHlLZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZpZXdNb2RlbC5wcm90b3R5cGUuJGRhdGFQcm9wZXJ0aWVzLl9fd2lkZ2V0SW5zdGFuY2VJZCA9IGNvbnRleHQuJGRhdGEuaWQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGZpeCB0aGUgY29udGV4dCBvZiB0aGUgZWFjaCBtZXRob2Qgb2ZcbiAgICAgKiBlYWNoIHZpZXcgbW9kZWxcbiAgICAgKi9cbiAgICBsZXQgYXBwbHlEYXRhTWV0aG9kcyA9IChkYXRhTWV0aG9kcywgY29udGV4dCkgPT4ge1xuICAgICAgaWYoZGF0YU1ldGhvZHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YU1ldGhvZHMpLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZEtleSkge1xuICAgICAgICAgIGNvbnRleHQuJGRhdGFbbWV0aG9kS2V5XSA9IGZ1bmN0aW9uICgpIHsgXG4gICAgICAgICAgICBsZXQgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIC8vT3JpZ2luYWwgdGhpc1xuICAgICAgICAgICAgYXJncy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFNZXRob2RzW21ldGhvZEtleV0uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgdmlld01vZGVsc0luc3RhbmNlcyA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXModmlld01vZGVscykuZm9yRWFjaCh2aWV3TW9kZWxOYW1lID0+IHtcbiAgICAgIGxldCB2aWV3TW9kZWwgPSB2aWV3TW9kZWxzW3ZpZXdNb2RlbE5hbWVdO1xuICAgICAgbGV0IGRhdGFNZXRob2RzID0gdmlld01vZGVsLnByb3RvdHlwZS4kZGF0YU1ldGhvZHM7XG4gICAgICBsZXQgZGF0YVByb3BlcnRpZXMgPSB2aWV3TW9kZWwucHJvdG90eXBlLiRkYXRhUHJvcGVydGllcztcblxuICAgICAgLyoqXG4gICAgICAgKiBFbnN1cmUgdGhlIGNvcnJlY3QgY29udGV4dCBvZiB0aGUgdmlldyBtb2RlbFxuICAgICAgICovXG4gICAgICB2aWV3TW9kZWwucHJvdG90eXBlLmFwcGx5Q29udGV4dHMgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LiRkYXRhID0gJGN1cnJlbnRXaWRnZXREYXRhO1xuICAgICAgICBjb250ZXh0LnZpZXdNb2RlbHMgPSB2aWV3TW9kZWxzSW5zdGFuY2VzO1xuXG4gICAgICAgIGFwcGx5RGF0YVByb3BlcnRpZXMoZGF0YVByb3BlcnRpZXMsIHZpZXdNb2RlbCwgY29udGV4dCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFwcGx5IHRoZSBtZXRob2Qgb2YgdGhlIGN1cnJlbnQgdmlldyBtb2RlbFxuICAgICAgICAgKi9cbiAgICAgICAgYXBwbHlEYXRhTWV0aG9kcyhkYXRhTWV0aG9kcywgY29udGV4dCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgbGlzdGVuZXIgdG8gdGhlIGJlZm9yZUFwcGVhclxuICAgICAgICAgKi9cbiAgICAgICAgJC5Ub3BpYygnd2lkZ2V0LicgKyAkY3VycmVudFdpZGdldERhdGEuaWQoKSArICcuYmVmb3JlQXBwZWFyJykuc3Vic2NyaWJlKHBhZ2VDb250ZXh0ID0+IHtcbiAgICAgICAgICBpZih0eXBlb2YgY29udGV4dC5iZWZvcmVBcHBlYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVmb3JlQXBwZWFyKHBhZ2VDb250ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBsaXN0ZW5lciB0byB0aGUgcmVzb3VyY2VzTG9hZGVkXG4gICAgICAgICAqL1xuICAgICAgICAkLlRvcGljKCd3aWRnZXQuJyArICRjdXJyZW50V2lkZ2V0RGF0YS5pZCgpICsgJy5yZXNvdXJjZXNMb2FkZWQnKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgIGlmKHR5cGVvZiBjb250ZXh0LnJlc291cmNlc0xvYWRlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29udGV4dC5yZXNvdXJjZXNMb2FkZWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBJbnN0YW50aWF0ZSB0aGUgY3VycmVudCB2aWV3IG1vZGVsXG4gICAgICAgKiBAdHlwZSB7dmlld01vZGVsfVxuICAgICAgICovXG4gICAgICBjb25zdCB2aWV3TW9kZWxJbnN0YW5jZSA9IG5ldyB2aWV3TW9kZWwoKTtcbiAgICAgIHZpZXdNb2RlbHNJbnN0YW5jZXNbdmlld01vZGVsTmFtZV0gPSB2aWV3TW9kZWxJbnN0YW5jZTtcbiAgICB9KTtcbiAgfVxufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vLm9jYy1jb21wb25lbnRzL3dpZGdldHMvd2lkZ2V0LWNvcmUvbG9hZGVycy93aWRnZXQuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _widgetViewModel = __webpack_require__(6);\n\nObject.defineProperty(exports, 'exportToViewModel', {\n  enumerable: true,\n  get: function get() {\n    return _widgetViewModel.exportToViewModel;\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9kZWNvcmF0b3JzL2luZGV4LmpzP2FhMTEiXSwibmFtZXMiOlsiZXhwb3J0VG9WaWV3TW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OzRCQVNTQSxpQiIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogRGVjb3JhdG9yc1xuICpcbiAqL1xuXG4vKipcbiAqIFdpZGdldCBWaWV3IE1vZGVsXG4gKi9cbmV4cG9ydCB7IGV4cG9ydFRvVmlld01vZGVsIH0gZnJvbSAnLi93aWRnZXRWaWV3TW9kZWwnO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9kZWNvcmF0b3JzL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.exportToViewModel = exportToViewModel;\nfunction exportToViewModel(target, key, descriptor) {\n  if (typeof target.$data === 'undefined') {\n    target.$data = {};\n  }\n\n  if (typeof target.$dataMethods === 'undefined') {\n    target.$dataMethods = {};\n  }\n\n  if (typeof target.$dataProperties === 'undefined') {\n    target.$dataProperties = {};\n  }\n\n  /**\n   * Set method context and call it\n   */\n  if (typeof target[key] === 'function') {\n    target.$dataMethods[key] = target[key];\n    return descriptor;\n  }\n\n  /**\n   * It's a property, then set its getter and setter\n   */\n  var initializer = descriptor.initializer;\n\n  delete descriptor.initializer;\n  delete descriptor.writable;\n\n  /**\n   * Object where all values of the same view model will be placed.\n   *\n   * It's an object, because if there is more than one instance of the same widget, it has\n   * to delivery the right value for the right instance\n   * \n   * @type {Object}\n   */\n  var propertyValue = {};\n\n  /**\n   * Gets the current instance id of the widget. If there is no $data yet, then, it's the first\n   * \"value\" in this view model, then, it's id will be called 'root'\n   * \n   * @return {String} widget instance id\n   */\n  var getCurrentInstanceId = function getCurrentInstanceId() {\n    var currentInstanceID = target.$data.id ? target.$data.id() : 'root';\n\n    if (currentInstanceID !== 'root' && !propertyValue[currentInstanceID]) {\n      return 'root';\n    }\n\n    return currentInstanceID;\n  };\n\n  /**\n   * Updates the propertyValue object using the current widget widget\n   * @param  {Any} value any value\n   * @return {Any} returns the current value\n   */\n  var setCurrentPropertyValue = function setCurrentPropertyValue(value) {\n    var currentInstanceID = getCurrentInstanceId();\n    propertyValue[currentInstanceID] = value;\n    return propertyValue[currentInstanceID];\n  };\n\n  /**\n   * Initializes the current property value\n   */\n  setCurrentPropertyValue(initializer.call(descriptor));\n\n  /**\n   * Setter of the property\n   * @param {Any} value any value\n   */\n  descriptor.set = function (value) {\n    setCurrentPropertyValue(value);\n  };\n\n  /**\n   * Getter of the property\n   * @return {Any} returns the current value\n   */\n  descriptor.get = function () {\n    var val = propertyValue[getCurrentInstanceId()];\n\n    //If there are more than one instance of the same widget, reset the property\n    if (this.$dataProperties.__widgetInstanceId && this.$data.id() !== this.$dataProperties.__widgetInstanceId) {\n      val = setCurrentPropertyValue(initializer.call(descriptor));\n    }\n\n    target.$data[key] = val;\n    return val;\n  };\n\n  /**\n   * Attaches the new property to the widget $data.\n   */\n  target.$dataProperties[key] = target[key];\n\n  return descriptor;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9kZWNvcmF0b3JzL3dpZGdldFZpZXdNb2RlbC5qcz83ZTc0Il0sIm5hbWVzIjpbImV4cG9ydFRvVmlld01vZGVsIiwidGFyZ2V0Iiwia2V5IiwiZGVzY3JpcHRvciIsIiRkYXRhIiwiJGRhdGFNZXRob2RzIiwiJGRhdGFQcm9wZXJ0aWVzIiwiaW5pdGlhbGl6ZXIiLCJ3cml0YWJsZSIsInByb3BlcnR5VmFsdWUiLCJnZXRDdXJyZW50SW5zdGFuY2VJZCIsImN1cnJlbnRJbnN0YW5jZUlEIiwiaWQiLCJzZXRDdXJyZW50UHJvcGVydHlWYWx1ZSIsInZhbHVlIiwiY2FsbCIsInNldCIsImdldCIsInZhbCIsIl9fd2lkZ2V0SW5zdGFuY2VJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFBZ0JBLGlCLEdBQUFBLGlCO0FBQVQsU0FBU0EsaUJBQVQsQ0FBMkJDLE1BQTNCLEVBQW1DQyxHQUFuQyxFQUF3Q0MsVUFBeEMsRUFBb0Q7QUFDekQsTUFBRyxPQUFPRixPQUFPRyxLQUFkLEtBQXdCLFdBQTNCLEVBQXdDO0FBQ3RDSCxXQUFPRyxLQUFQLEdBQWUsRUFBZjtBQUNEOztBQUVELE1BQUcsT0FBT0gsT0FBT0ksWUFBZCxLQUErQixXQUFsQyxFQUErQztBQUM3Q0osV0FBT0ksWUFBUCxHQUFzQixFQUF0QjtBQUNEOztBQUVELE1BQUcsT0FBT0osT0FBT0ssZUFBZCxLQUFrQyxXQUFyQyxFQUFrRDtBQUNoREwsV0FBT0ssZUFBUCxHQUF5QixFQUF6QjtBQUNEOztBQUVEOzs7QUFHQSxNQUFHLE9BQU9MLE9BQU9DLEdBQVAsQ0FBUCxLQUF1QixVQUExQixFQUFzQztBQUNwQ0QsV0FBT0ksWUFBUCxDQUFvQkgsR0FBcEIsSUFBMkJELE9BQU9DLEdBQVAsQ0FBM0I7QUFDQSxXQUFPQyxVQUFQO0FBQ0Q7O0FBRUQ7OztBQXJCeUQsTUF3QnBESSxXQXhCb0QsR0F3QnJDSixVQXhCcUMsQ0F3QnBESSxXQXhCb0Q7O0FBeUJ6RCxTQUFPSixXQUFXSSxXQUFsQjtBQUNBLFNBQU9KLFdBQVdLLFFBQWxCOztBQUVBOzs7Ozs7OztBQVFBLE1BQU1DLGdCQUFnQixFQUF0Qjs7QUFFQTs7Ozs7O0FBTUEsTUFBTUMsdUJBQXVCLFNBQXZCQSxvQkFBdUIsR0FBTTtBQUNqQyxRQUFJQyxvQkFBb0JWLE9BQU9HLEtBQVAsQ0FBYVEsRUFBYixHQUFrQlgsT0FBT0csS0FBUCxDQUFhUSxFQUFiLEVBQWxCLEdBQXNDLE1BQTlEOztBQUVBLFFBQUdELHNCQUFzQixNQUF0QixJQUFnQyxDQUFDRixjQUFjRSxpQkFBZCxDQUFwQyxFQUFzRTtBQUNwRSxhQUFPLE1BQVA7QUFDRDs7QUFFRCxXQUFPQSxpQkFBUDtBQUNELEdBUkQ7O0FBVUE7Ozs7O0FBS0EsTUFBTUUsMEJBQTBCLFNBQTFCQSx1QkFBMEIsQ0FBQ0MsS0FBRCxFQUFXO0FBQ3pDLFFBQUlILG9CQUFvQkQsc0JBQXhCO0FBQ0FELGtCQUFjRSxpQkFBZCxJQUFtQ0csS0FBbkM7QUFDQSxXQUFPTCxjQUFjRSxpQkFBZCxDQUFQO0FBQ0QsR0FKRDs7QUFNQTs7O0FBR0FFLDBCQUF3Qk4sWUFBWVEsSUFBWixDQUFpQlosVUFBakIsQ0FBeEI7O0FBRUE7Ozs7QUFJQUEsYUFBV2EsR0FBWCxHQUFpQixVQUFTRixLQUFULEVBQWdCO0FBQy9CRCw0QkFBd0JDLEtBQXhCO0FBQ0QsR0FGRDs7QUFJQTs7OztBQUlBWCxhQUFXYyxHQUFYLEdBQWlCLFlBQVc7QUFDMUIsUUFBSUMsTUFBTVQsY0FBY0Msc0JBQWQsQ0FBVjs7QUFFQTtBQUNBLFFBQUcsS0FBS0osZUFBTCxDQUFxQmEsa0JBQXJCLElBQTJDLEtBQUtmLEtBQUwsQ0FBV1EsRUFBWCxPQUFvQixLQUFLTixlQUFMLENBQXFCYSxrQkFBdkYsRUFBMkc7QUFDekdELFlBQU1MLHdCQUF3Qk4sWUFBWVEsSUFBWixDQUFpQlosVUFBakIsQ0FBeEIsQ0FBTjtBQUNEOztBQUVERixXQUFPRyxLQUFQLENBQWFGLEdBQWIsSUFBb0JnQixHQUFwQjtBQUNBLFdBQU9BLEdBQVA7QUFDRCxHQVZEOztBQVlBOzs7QUFHQWpCLFNBQU9LLGVBQVAsQ0FBdUJKLEdBQXZCLElBQThCRCxPQUFPQyxHQUFQLENBQTlCOztBQUVBLFNBQU9DLFVBQVA7QUFDRCIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydFRvVmlld01vZGVsKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gIGlmKHR5cGVvZiB0YXJnZXQuJGRhdGEgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGFyZ2V0LiRkYXRhID0ge307XG4gIH1cblxuICBpZih0eXBlb2YgdGFyZ2V0LiRkYXRhTWV0aG9kcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0YXJnZXQuJGRhdGFNZXRob2RzID0ge307XG4gIH1cblxuICBpZih0eXBlb2YgdGFyZ2V0LiRkYXRhUHJvcGVydGllcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0YXJnZXQuJGRhdGFQcm9wZXJ0aWVzID0ge307XG4gIH1cblxuICAvKipcbiAgICogU2V0IG1ldGhvZCBjb250ZXh0IGFuZCBjYWxsIGl0XG4gICAqL1xuICBpZih0eXBlb2YgdGFyZ2V0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICB0YXJnZXQuJGRhdGFNZXRob2RzW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJdCdzIGEgcHJvcGVydHksIHRoZW4gc2V0IGl0cyBnZXR0ZXIgYW5kIHNldHRlclxuICAgKi9cbiAgbGV0IHtpbml0aWFsaXplcn0gPSBkZXNjcmlwdG9yO1xuICBkZWxldGUgZGVzY3JpcHRvci5pbml0aWFsaXplcjtcbiAgZGVsZXRlIGRlc2NyaXB0b3Iud3JpdGFibGU7XG5cbiAgLyoqXG4gICAqIE9iamVjdCB3aGVyZSBhbGwgdmFsdWVzIG9mIHRoZSBzYW1lIHZpZXcgbW9kZWwgd2lsbCBiZSBwbGFjZWQuXG4gICAqXG4gICAqIEl0J3MgYW4gb2JqZWN0LCBiZWNhdXNlIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgaW5zdGFuY2Ugb2YgdGhlIHNhbWUgd2lkZ2V0LCBpdCBoYXNcbiAgICogdG8gZGVsaXZlcnkgdGhlIHJpZ2h0IHZhbHVlIGZvciB0aGUgcmlnaHQgaW5zdGFuY2VcbiAgICogXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBjb25zdCBwcm9wZXJ0eVZhbHVlID0ge307XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgaW5zdGFuY2UgaWQgb2YgdGhlIHdpZGdldC4gSWYgdGhlcmUgaXMgbm8gJGRhdGEgeWV0LCB0aGVuLCBpdCdzIHRoZSBmaXJzdFxuICAgKiBcInZhbHVlXCIgaW4gdGhpcyB2aWV3IG1vZGVsLCB0aGVuLCBpdCdzIGlkIHdpbGwgYmUgY2FsbGVkICdyb290J1xuICAgKiBcbiAgICogQHJldHVybiB7U3RyaW5nfSB3aWRnZXQgaW5zdGFuY2UgaWRcbiAgICovXG4gIGNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZUlkID0gKCkgPT4ge1xuICAgIGxldCBjdXJyZW50SW5zdGFuY2VJRCA9IHRhcmdldC4kZGF0YS5pZCA/IHRhcmdldC4kZGF0YS5pZCgpIDogJ3Jvb3QnO1xuXG4gICAgaWYoY3VycmVudEluc3RhbmNlSUQgIT09ICdyb290JyAmJiAhcHJvcGVydHlWYWx1ZVtjdXJyZW50SW5zdGFuY2VJRF0pIHtcbiAgICAgIHJldHVybiAncm9vdCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRJbnN0YW5jZUlEO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwcm9wZXJ0eVZhbHVlIG9iamVjdCB1c2luZyB0aGUgY3VycmVudCB3aWRnZXQgd2lkZ2V0XG4gICAqIEBwYXJhbSAge0FueX0gdmFsdWUgYW55IHZhbHVlXG4gICAqIEByZXR1cm4ge0FueX0gcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZVxuICAgKi9cbiAgY29uc3Qgc2V0Q3VycmVudFByb3BlcnR5VmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBsZXQgY3VycmVudEluc3RhbmNlSUQgPSBnZXRDdXJyZW50SW5zdGFuY2VJZCgpO1xuICAgIHByb3BlcnR5VmFsdWVbY3VycmVudEluc3RhbmNlSURdID0gdmFsdWU7XG4gICAgcmV0dXJuIHByb3BlcnR5VmFsdWVbY3VycmVudEluc3RhbmNlSURdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgY3VycmVudCBwcm9wZXJ0eSB2YWx1ZVxuICAgKi9cbiAgc2V0Q3VycmVudFByb3BlcnR5VmFsdWUoaW5pdGlhbGl6ZXIuY2FsbChkZXNjcmlwdG9yKSk7XG5cbiAgLyoqXG4gICAqIFNldHRlciBvZiB0aGUgcHJvcGVydHlcbiAgICogQHBhcmFtIHtBbnl9IHZhbHVlIGFueSB2YWx1ZVxuICAgKi9cbiAgZGVzY3JpcHRvci5zZXQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHNldEN1cnJlbnRQcm9wZXJ0eVZhbHVlKHZhbHVlKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0dGVyIG9mIHRoZSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJuIHtBbnl9IHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWVcbiAgICovXG4gIGRlc2NyaXB0b3IuZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgbGV0IHZhbCA9IHByb3BlcnR5VmFsdWVbZ2V0Q3VycmVudEluc3RhbmNlSWQoKV07XG4gICAgXG4gICAgLy9JZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBpbnN0YW5jZSBvZiB0aGUgc2FtZSB3aWRnZXQsIHJlc2V0IHRoZSBwcm9wZXJ0eVxuICAgIGlmKHRoaXMuJGRhdGFQcm9wZXJ0aWVzLl9fd2lkZ2V0SW5zdGFuY2VJZCAmJiB0aGlzLiRkYXRhLmlkKCkgIT09IHRoaXMuJGRhdGFQcm9wZXJ0aWVzLl9fd2lkZ2V0SW5zdGFuY2VJZCkge1xuICAgICAgdmFsID0gc2V0Q3VycmVudFByb3BlcnR5VmFsdWUoaW5pdGlhbGl6ZXIuY2FsbChkZXNjcmlwdG9yKSk7XG4gICAgfVxuXG4gICAgdGFyZ2V0LiRkYXRhW2tleV0gPSB2YWw7XG4gICAgcmV0dXJuIHZhbDtcbiAgfTtcblxuICAvKipcbiAgICogQXR0YWNoZXMgdGhlIG5ldyBwcm9wZXJ0eSB0byB0aGUgd2lkZ2V0ICRkYXRhLlxuICAgKi9cbiAgdGFyZ2V0LiRkYXRhUHJvcGVydGllc1trZXldID0gdGFyZ2V0W2tleV07XG4gIFxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLy5vY2MtY29tcG9uZW50cy93aWRnZXRzL3dpZGdldC1jb3JlL2RlY29yYXRvcnMvd2lkZ2V0Vmlld01vZGVsLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _OERestClient = __webpack_require__(8);\n\nObject.defineProperty(exports, 'OERestClient', {\n  enumerable: true,\n  get: function get() {\n    return _OERestClient.OERestClient;\n  }\n});\n\nvar _CartHelper = __webpack_require__(12);\n\nObject.defineProperty(exports, 'CartHelper', {\n  enumerable: true,\n  get: function get() {\n    return _CartHelper.CartHelper;\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9oZWxwZXJzL2luZGV4LmpzPzllM2IiXSwibmFtZXMiOlsiT0VSZXN0Q2xpZW50IiwiQ2FydEhlbHBlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7eUJBQVNBLFk7Ozs7Ozs7Ozt1QkFDQUMsVSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgT0VSZXN0Q2xpZW50IH0gZnJvbSAnLi9PRVJlc3RDbGllbnQnO1xuZXhwb3J0IHsgQ2FydEhlbHBlciB9IGZyb20gJy4vQ2FydEhlbHBlcic7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLy5vY2MtY29tcG9uZW50cy93aWRnZXRzL3dpZGdldC1jb3JlL2hlbHBlcnMvaW5kZXguanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OERestClient = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _knockout = __webpack_require__(9);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\nvar _promise = __webpack_require__(10);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _ccRestClient = __webpack_require__(11);\n\nvar _ccRestClient2 = _interopRequireDefault(_ccRestClient);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OERestClient = exports.OERestClient = function () {\n  function OERestClient() {\n    var endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var query = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, OERestClient);\n\n    this.endpoint = null;\n    this.path = null;\n    this.query = null;\n\n    this.endpoint = endpoint;\n    this.path = path;\n    this.query = query;\n  }\n\n  /**\n   * Set the request endpoint\n   *\n   * @param  {String} endpoint The endpoint\n   * @return {Void}\n   */\n\n\n  _createClass(OERestClient, [{\n    key: 'setEndpoint',\n    value: function setEndpoint(endpoint) {\n      this.endpoint = endpoint;\n    }\n\n    /**\n     * Set the path parameters\n     *\n     * @param  {String} path The path parameters\n     * @return {Void}\n     */\n\n  }, {\n    key: 'setPath',\n    value: function setPath(path) {\n      this.path = path;\n    }\n\n    /**\n     * Set the request query parameters\n     *\n     * @param  {Object} query The query parameters\n     * @return {Void}\n     */\n\n  }, {\n    key: 'setQuery',\n    value: function setQuery(query) {\n      this.query = query;\n    }\n\n    /**\n     * Send the request to OCC\n     *\n     * @return {promise}\n     */\n\n  }, {\n    key: 'send',\n    value: function send() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        // Check required properties validity\n        if (!_this.validate()) {\n          reject({ error: 'Required fields not provided' });\n        }\n        // Request using OCC Rest Client\n        _ccRestClient2.default.request(_this.endpoint, _this.query, function (response) {\n          resolve(response);\n        }, function (error) {\n          reject(error);\n        }, _this.path);\n      });\n    }\n\n    /**\n     * Validate the provided parameters\n     *\n     * @return {Boolean} Whether the provided parameters are valid or not\n     */\n\n  }, {\n    key: 'validate',\n    value: function validate() {\n      return this.endpoint ? true : false;\n    }\n  }]);\n\n  return OERestClient;\n}();\n\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9oZWxwZXJzL09FUmVzdENsaWVudC5qcz9mNmY1Il0sIm5hbWVzIjpbIk9FUmVzdENsaWVudCIsImVuZHBvaW50IiwicGF0aCIsInF1ZXJ5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ2YWxpZGF0ZSIsImVycm9yIiwicmVxdWVzdCIsInJlc3BvbnNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0lBRWFBLFksV0FBQUEsWTtBQUtYLDBCQUFtRDtBQUFBLFFBQXRDQyxRQUFzQyx1RUFBM0IsRUFBMkI7QUFBQSxRQUF2QkMsSUFBdUIsdUVBQWhCLEVBQWdCO0FBQUEsUUFBWkMsS0FBWSx1RUFBSixFQUFJOztBQUFBOztBQUFBLFNBSm5ERixRQUltRCxHQUp4QyxJQUl3QztBQUFBLFNBSG5EQyxJQUdtRCxHQUg1QyxJQUc0QztBQUFBLFNBRm5EQyxLQUVtRCxHQUYzQyxJQUUyQzs7QUFDakQsU0FBS0YsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxJQUFMLEdBQWdCQSxJQUFoQjtBQUNBLFNBQUtDLEtBQUwsR0FBZ0JBLEtBQWhCO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7Z0NBTWFGLFEsRUFBVTtBQUNyQixXQUFLQSxRQUFMLEdBQWdCQSxRQUFoQjtBQUNEOztBQUVEOzs7Ozs7Ozs7NEJBTVNDLEksRUFBTTtBQUNiLFdBQUtBLElBQUwsR0FBWUEsSUFBWjtBQUNEOztBQUVEOzs7Ozs7Ozs7NkJBTVVDLEssRUFBTztBQUNmLFdBQUtBLEtBQUwsR0FBYUEsS0FBYjtBQUNEOztBQUVEOzs7Ozs7OzsyQkFLUTtBQUFBOztBQUNOLGFBQU8sSUFBSUMsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUN0QztBQUNBLFlBQUksQ0FBQyxNQUFLQyxRQUFMLEVBQUwsRUFBc0I7QUFDcEJELGlCQUFPLEVBQUNFLE9BQU8sOEJBQVIsRUFBUDtBQUNEO0FBQ0Q7QUFDQSwrQkFBV0MsT0FBWCxDQUNFLE1BQUtSLFFBRFAsRUFFRSxNQUFLRSxLQUZQLEVBR0UsVUFBQ08sUUFBRCxFQUFjO0FBQ1pMLGtCQUFRSyxRQUFSO0FBQ0QsU0FMSCxFQU1FLFVBQUNGLEtBQUQsRUFBVztBQUNURixpQkFBT0UsS0FBUDtBQUNELFNBUkgsRUFTRSxNQUFLTixJQVRQO0FBVUQsT0FoQk0sQ0FBUDtBQWlCRDs7QUFFRDs7Ozs7Ozs7K0JBS1k7QUFDVixhQUFRLEtBQUtELFFBQU4sR0FBa0IsSUFBbEIsR0FBeUIsS0FBaEM7QUFDRDs7Ozs7O0FBQ0YiLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBrbyBmcm9tICdrbm9ja291dCc7XG5pbXBvcnQgcHJvbWlzZSBmcm9tICdwcm9taXNlJztcbmltcG9ydCByZXN0Q2xpZW50IGZyb20gJ2NjUmVzdENsaWVudCc7XG5cbmV4cG9ydCBjbGFzcyBPRVJlc3RDbGllbnQge1xuICBlbmRwb2ludCA9IG51bGw7XG4gIHBhdGggPSBudWxsO1xuICBxdWVyeSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IgKGVuZHBvaW50ID0gJycsIHBhdGggPSAnJywgcXVlcnkgPSB7fSkge1xuICAgIHRoaXMuZW5kcG9pbnQgPSBlbmRwb2ludDtcbiAgICB0aGlzLnBhdGggICAgID0gcGF0aDtcbiAgICB0aGlzLnF1ZXJ5ICAgID0gcXVlcnk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSByZXF1ZXN0IGVuZHBvaW50XG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZW5kcG9pbnQgVGhlIGVuZHBvaW50XG4gICAqIEByZXR1cm4ge1ZvaWR9XG4gICAqL1xuICBzZXRFbmRwb2ludCAoZW5kcG9pbnQpIHtcbiAgICB0aGlzLmVuZHBvaW50ID0gZW5kcG9pbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBwYXRoIHBhcmFtZXRlcnNcbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwYXRoIFRoZSBwYXRoIHBhcmFtZXRlcnNcbiAgICogQHJldHVybiB7Vm9pZH1cbiAgICovXG4gIHNldFBhdGggKHBhdGgpIHtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVxdWVzdCBxdWVyeSBwYXJhbWV0ZXJzXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gcXVlcnkgVGhlIHF1ZXJ5IHBhcmFtZXRlcnNcbiAgICogQHJldHVybiB7Vm9pZH1cbiAgICovXG4gIHNldFF1ZXJ5IChxdWVyeSkge1xuICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIHRoZSByZXF1ZXN0IHRvIE9DQ1xuICAgKlxuICAgKiBAcmV0dXJuIHtwcm9taXNlfVxuICAgKi9cbiAgc2VuZCAoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIC8vIENoZWNrIHJlcXVpcmVkIHByb3BlcnRpZXMgdmFsaWRpdHlcbiAgICAgIGlmICghdGhpcy52YWxpZGF0ZSgpKSB7XG4gICAgICAgIHJlamVjdCh7ZXJyb3I6ICdSZXF1aXJlZCBmaWVsZHMgbm90IHByb3ZpZGVkJ30pO1xuICAgICAgfVxuICAgICAgLy8gUmVxdWVzdCB1c2luZyBPQ0MgUmVzdCBDbGllbnRcbiAgICAgIHJlc3RDbGllbnQucmVxdWVzdChcbiAgICAgICAgdGhpcy5lbmRwb2ludCxcbiAgICAgICAgdGhpcy5xdWVyeSxcbiAgICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMucGF0aCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnNcbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gV2hldGhlciB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycyBhcmUgdmFsaWQgb3Igbm90XG4gICAqL1xuICB2YWxpZGF0ZSAoKSB7XG4gICAgcmV0dXJuICh0aGlzLmVuZHBvaW50KSA/IHRydWUgOiBmYWxzZTtcbiAgfVxufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vLm9jYy1jb21wb25lbnRzL3dpZGdldHMvd2lkZ2V0LWNvcmUvaGVscGVycy9PRVJlc3RDbGllbnQuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");
},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrbm9ja291dFwiP2NhZjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV85X187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcImtub2Nrb3V0XCJcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgN1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwcm9taXNlXCI/YjM4YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xMF9fO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJwcm9taXNlXCJcbiAqKiBtb2R1bGUgaWQgPSAxMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNSA2IDdcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjY1Jlc3RDbGllbnRcIj9iMzJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzExX187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcImNjUmVzdENsaWVudFwiXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CartHelper = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Dependencies\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _jquery = __webpack_require__(13);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _knockout = __webpack_require__(9);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\nvar _cart = __webpack_require__(14);\n\nvar _cart2 = _interopRequireDefault(_cart);\n\nvar _pubsub = __webpack_require__(15);\n\nvar _pubsub2 = _interopRequireDefault(_pubsub);\n\nvar _ccConstants = __webpack_require__(16);\n\nvar _ccConstants2 = _interopRequireDefault(_ccConstants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Constants\n */\nvar TOPIC_ON_ALL_ITEMS_ADDED = 'oe.on.all.items.added';\n\n/**\n * Helper for cart common actions\n *\n * @class\n *\n * @property {Object} widget The widget context\n * @property {Object} cart   OCC Cart instance\n */\n\nvar CartHelper = exports.CartHelper = function () {\n  function CartHelper(widget) {\n    _classCallCheck(this, CartHelper);\n\n    this.widget = widget;\n    this.cart = _cart2.default.getInstance();\n  }\n\n  /**\n   * Adds an item to cart\n   *\n   * @param {Object} item The item to add to cart\n   */\n\n\n  _createClass(CartHelper, [{\n    key: 'addItemToCart',\n    value: function addItemToCart(item) {\n      _jquery2.default.Topic(_pubsub2.default.topicNames.CART_ADD).publishWith(item);\n    }\n\n    /**\n     * Add multiple items to cart\n     *\n     * @param {Array} items A list of items\n     *\n     * @return {Promise} A promise to wait for adding\n     */\n\n  }, {\n    key: 'addMultipleItemsToCart',\n    value: function addMultipleItemsToCart(items) {\n      var _this = this;\n\n      // If items is not an array, reject the promise\n      if (!_jquery2.default.isArray(items)) {\n        return Promise.reject({ error: 'An array of items must be provided!' });\n      } else {\n        // Create a temporary items array in the helper\n        this.addingQueue = items;\n\n        // Store the current pricing success callback\n        var currentSuccessCb = this.getCartCallbackByAction(_ccConstants2.default.PRICING_SUCCESS_CB);\n\n        // Replace the pricing success callback to handle the multiple add to cart\n        this.setPricingSuccessCallback(this.onPricingSuccess.bind(this));\n\n        return new Promise(function (resolve) {\n          // Handle action end\n          var onItemsAdded = function onItemsAdded() {\n            // In case of empty list:\n            // - remove the topic subscribe\n            _jquery2.default.Topic(TOPIC_ON_ALL_ITEMS_ADDED).unsubscribe(onItemsAdded);\n            // - return the previous pricing success callback\n            _this.setPricingSuccessCallback(currentSuccessCb);\n            // - resolve the promise\n            resolve({ success: true });\n          };\n\n          // Unsubscribe and subscribe again to avoid stacking\n          _jquery2.default.Topic(TOPIC_ON_ALL_ITEMS_ADDED).unsubscribe(onItemsAdded);\n          _jquery2.default.Topic(TOPIC_ON_ALL_ITEMS_ADDED).subscribe(onItemsAdded);\n\n          // If we have a list of items in queue,\n          // send the first to cart to start the loop\n          if (_this.addingQueue.length) {\n            _this.addItemToCart(_this.addingQueue[0]);\n          } else {\n            // Call the action end handler manually\n            onItemsAdded();\n          }\n        });\n      }\n    }\n\n    /**\n     * Empty the cart\n     */\n\n  }, {\n    key: 'clearCart',\n    value: function clearCart() {\n      this.cart.emptyCart();\n      this.cart.markDirty();\n    }\n\n    /**\n     * Get a cart callback given an action\n     *\n     * @param {String} action The action performed by the callback\n     *\n     * @return {Function|Undefined} The callback\n     */\n\n  }, {\n    key: 'getCartCallbackByAction',\n    value: function getCartCallbackByAction(action) {\n      var allCallbacks = this.cart.callbacks;\n      var callback = void 0;\n\n      if (allCallbacks.hasOwnProperty(action)) {\n        callback = allCallbacks[action];\n      }\n\n      return callback;\n    }\n\n    /**\n     * Get a dynamic property given an ID\n     *\n     * @param {String} id The dynamic property ID to look for\n     *\n     * @return {Object|Undefined} The dynamic property or nothing\n     */\n\n  }, {\n    key: 'getDynamicPropertyById',\n    value: function getDynamicPropertyById() {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      var property = void 0;\n\n      if (this.cart && _knockout2.default.isObservable(this.cart.dynamicProperties)) {\n        var properties = this.cart.dynamicProperties();\n\n        // Using 'some' due to IE11 compatibility issues\n        properties.some(function (prop) {\n          if (prop.id() === id) {\n            property = prop;\n            return true;\n          }\n        });\n      }\n\n      return property;\n    }\n\n    /**\n     * Handle pricing success for multiple add to cart\n     */\n\n  }, {\n    key: 'onPricingSuccess',\n    value: function onPricingSuccess() {\n      // Apply this defensive check to avoid page break\n      if (_jquery2.default.isArray(this.addingQueue)) {\n        // Remove the recently added product\n        this.addingQueue.shift();\n\n        // If there is remaining items in list, add the first to cart\n        if (this.addingQueue.length) {\n          this.addItemToCart(this.addingQueue[0]);\n        } else {\n          // Otherwise, notify the action end\n          _jquery2.default.Topic(TOPIC_ON_ALL_ITEMS_ADDED).publish();\n        }\n      }\n    }\n\n    /**\n     * Save current cart state to cookies\n     */\n\n  }, {\n    key: 'saveCart',\n    value: function saveCart() {\n      this.cart.saveCartCookie();\n    }\n\n    /**\n     * Save current cart state to cookies and price the cart\n     */\n\n  }, {\n    key: 'saveCartAndPersist',\n    value: function saveCartAndPersist() {\n      this.saveCart();\n      this.cart.priceCartIfNeccessary(true);\n    }\n\n    /**\n     * Set a callback to cart given the action\n     *\n     * @param {String}   action   The callback action\n     * @param {Function} callback The callback\n     */\n\n  }, {\n    key: 'setCartCallback',\n    value: function setCartCallback(action, callback) {\n      if (action && typeof callback === 'function') {\n        var allCallbacks = this.cart.callbacks;\n\n        allCallbacks[action] = callback;\n\n        this.cart.setCallbackFunctions(allCallbacks);\n      }\n    }\n\n    /**\n     * Set a dynamic property value\n     *\n     * @param {Object} property The dynamic property\n     * @param {Any}    value    The new value\n     */\n\n  }, {\n    key: 'setDynamicProperty',\n    value: function setDynamicProperty(property, value) {\n      if (property && _knockout2.default.isObservable(property.value)) {\n        property.value(value);\n      }\n    }\n\n    /**\n     * Set a dynamic property value given an id\n     *\n     * @param {String} id    The dynamic property id\n     * @param {Any}    value The new value\n     */\n\n  }, {\n    key: 'setDynamicPropertyById',\n    value: function setDynamicPropertyById(id, value) {\n      var property = this.getDynamicPropertyById(id);\n\n      if (property) {\n        this.setDynamicProperty(property, value);\n      }\n    }\n\n    /**\n     * Set prepricing callback to cart\n     *\n     * @param {Function} callback The callback to handle prepricing action\n     */\n\n  }, {\n    key: 'setPrepricingCallback',\n    value: function setPrepricingCallback(callback) {\n      this.setCartCallback(_ccConstants2.default.PREPRICING, callback);\n    }\n\n    /**\n     * Set failure pricing callback to cart\n     *\n     * @param {Function} callback The callback to handle failure pricing action\n     */\n\n  }, {\n    key: 'setPricingFailureCallback',\n    value: function setPricingFailureCallback(callback) {\n      this.setCartCallback(_ccConstants2.default.PRICING_FAILURE_CB, callback);\n    }\n\n    /**\n     * Set success pricing callback to cart\n     *\n     * @param {Function} callback The callback to handle success pricing action\n     */\n\n  }, {\n    key: 'setPricingSuccessCallback',\n    value: function setPricingSuccessCallback(callback) {\n      this.setCartCallback(_ccConstants2.default.PRICING_SUCCESS_CB, callback);\n    }\n  }]);\n\n  return CartHelper;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9oZWxwZXJzL0NhcnRIZWxwZXIuanM/NDgzNSJdLCJuYW1lcyI6WyJUT1BJQ19PTl9BTExfSVRFTVNfQURERUQiLCJDYXJ0SGVscGVyIiwid2lkZ2V0IiwiY2FydCIsImdldEluc3RhbmNlIiwiaXRlbSIsIlRvcGljIiwidG9waWNOYW1lcyIsIkNBUlRfQUREIiwicHVibGlzaFdpdGgiLCJpdGVtcyIsImlzQXJyYXkiLCJQcm9taXNlIiwicmVqZWN0IiwiZXJyb3IiLCJhZGRpbmdRdWV1ZSIsImN1cnJlbnRTdWNjZXNzQ2IiLCJnZXRDYXJ0Q2FsbGJhY2tCeUFjdGlvbiIsIlBSSUNJTkdfU1VDQ0VTU19DQiIsInNldFByaWNpbmdTdWNjZXNzQ2FsbGJhY2siLCJvblByaWNpbmdTdWNjZXNzIiwiYmluZCIsInJlc29sdmUiLCJvbkl0ZW1zQWRkZWQiLCJ1bnN1YnNjcmliZSIsInN1Y2Nlc3MiLCJzdWJzY3JpYmUiLCJsZW5ndGgiLCJhZGRJdGVtVG9DYXJ0IiwiZW1wdHlDYXJ0IiwibWFya0RpcnR5IiwiYWN0aW9uIiwiYWxsQ2FsbGJhY2tzIiwiY2FsbGJhY2tzIiwiY2FsbGJhY2siLCJoYXNPd25Qcm9wZXJ0eSIsImlkIiwicHJvcGVydHkiLCJpc09ic2VydmFibGUiLCJkeW5hbWljUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJzb21lIiwicHJvcCIsInNoaWZ0IiwicHVibGlzaCIsInNhdmVDYXJ0Q29va2llIiwic2F2ZUNhcnQiLCJwcmljZUNhcnRJZk5lY2Nlc3NhcnkiLCJzZXRDYWxsYmFja0Z1bmN0aW9ucyIsInZhbHVlIiwiZ2V0RHluYW1pY1Byb3BlcnR5QnlJZCIsInNldER5bmFtaWNQcm9wZXJ0eSIsInNldENhcnRDYWxsYmFjayIsIlBSRVBSSUNJTkciLCJQUklDSU5HX0ZBSUxVUkVfQ0IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7cWpCQUFBOzs7OztBQUdBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBRUE7OztBQUdBLElBQU1BLDJCQUEyQix1QkFBakM7O0FBRUE7Ozs7Ozs7OztJQVFhQyxVLFdBQUFBLFU7QUFDWCxzQkFBYUMsTUFBYixFQUFxQjtBQUFBOztBQUNuQixTQUFLQSxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxTQUFLQyxJQUFMLEdBQVksZUFBS0MsV0FBTCxFQUFaO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztrQ0FLZUMsSSxFQUFNO0FBQ25CLHVCQUFFQyxLQUFGLENBQVEsaUJBQU9DLFVBQVAsQ0FBa0JDLFFBQTFCLEVBQW9DQyxXQUFwQyxDQUFnREosSUFBaEQ7QUFDRDs7QUFFRDs7Ozs7Ozs7OzsyQ0FPd0JLLEssRUFBTztBQUFBOztBQUM3QjtBQUNBLFVBQUksQ0FBQyxpQkFBRUMsT0FBRixDQUFVRCxLQUFWLENBQUwsRUFBdUI7QUFDckIsZUFBT0UsUUFBUUMsTUFBUixDQUFlLEVBQUNDLE9BQU8scUNBQVIsRUFBZixDQUFQO0FBQ0QsT0FGRCxNQUVPO0FBQ0w7QUFDQSxhQUFLQyxXQUFMLEdBQW1CTCxLQUFuQjs7QUFFQTtBQUNBLFlBQU1NLG1CQUFtQixLQUFLQyx1QkFBTCxDQUE2QixzQkFBWUMsa0JBQXpDLENBQXpCOztBQUVBO0FBQ0EsYUFBS0MseUJBQUwsQ0FBK0IsS0FBS0MsZ0JBQUwsQ0FBc0JDLElBQXRCLENBQTJCLElBQTNCLENBQS9COztBQUVBLGVBQU8sSUFBSVQsT0FBSixDQUFZLFVBQUNVLE9BQUQsRUFBYTtBQUM5QjtBQUNBLGNBQU1DLGVBQWUsU0FBZkEsWUFBZSxHQUFNO0FBQ3pCO0FBQ0E7QUFDQSw2QkFBRWpCLEtBQUYsQ0FBUU4sd0JBQVIsRUFBa0N3QixXQUFsQyxDQUE4Q0QsWUFBOUM7QUFDQTtBQUNBLGtCQUFLSix5QkFBTCxDQUErQkgsZ0JBQS9CO0FBQ0E7QUFDQU0sb0JBQVEsRUFBQ0csU0FBUyxJQUFWLEVBQVI7QUFDRCxXQVJEOztBQVVBO0FBQ0EsMkJBQUVuQixLQUFGLENBQVFOLHdCQUFSLEVBQWtDd0IsV0FBbEMsQ0FBOENELFlBQTlDO0FBQ0EsMkJBQUVqQixLQUFGLENBQVFOLHdCQUFSLEVBQWtDMEIsU0FBbEMsQ0FBNENILFlBQTVDOztBQUVBO0FBQ0E7QUFDQSxjQUFJLE1BQUtSLFdBQUwsQ0FBaUJZLE1BQXJCLEVBQTZCO0FBQzNCLGtCQUFLQyxhQUFMLENBQW1CLE1BQUtiLFdBQUwsQ0FBaUIsQ0FBakIsQ0FBbkI7QUFDRCxXQUZELE1BRU87QUFDTDtBQUNBUTtBQUNEO0FBQ0YsU0F4Qk0sQ0FBUDtBQXlCRDtBQUNGOztBQUVEOzs7Ozs7Z0NBR2E7QUFDWCxXQUFLcEIsSUFBTCxDQUFVMEIsU0FBVjtBQUNBLFdBQUsxQixJQUFMLENBQVUyQixTQUFWO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7NENBT3lCQyxNLEVBQVE7QUFDL0IsVUFBTUMsZUFBZSxLQUFLN0IsSUFBTCxDQUFVOEIsU0FBL0I7QUFDQSxVQUFJQyxpQkFBSjs7QUFFQSxVQUFJRixhQUFhRyxjQUFiLENBQTRCSixNQUE1QixDQUFKLEVBQXlDO0FBQ3ZDRyxtQkFBV0YsYUFBYUQsTUFBYixDQUFYO0FBQ0Q7O0FBRUQsYUFBT0csUUFBUDtBQUNEOztBQUVEOzs7Ozs7Ozs7OzZDQU9pQztBQUFBLFVBQVRFLEVBQVMsdUVBQUosRUFBSTs7QUFDL0IsVUFBSUMsaUJBQUo7O0FBRUEsVUFBSSxLQUFLbEMsSUFBTCxJQUFhLG1CQUFHbUMsWUFBSCxDQUFnQixLQUFLbkMsSUFBTCxDQUFVb0MsaUJBQTFCLENBQWpCLEVBQStEO0FBQzdELFlBQU1DLGFBQWEsS0FBS3JDLElBQUwsQ0FBVW9DLGlCQUFWLEVBQW5COztBQUVBO0FBQ0FDLG1CQUFXQyxJQUFYLENBQWdCLGdCQUFRO0FBQ3RCLGNBQUlDLEtBQUtOLEVBQUwsT0FBY0EsRUFBbEIsRUFBc0I7QUFDcEJDLHVCQUFXSyxJQUFYO0FBQ0EsbUJBQU8sSUFBUDtBQUNEO0FBQ0YsU0FMRDtBQU1EOztBQUVELGFBQU9MLFFBQVA7QUFDRDs7QUFFRDs7Ozs7O3VDQUdvQjtBQUNsQjtBQUNBLFVBQUksaUJBQUUxQixPQUFGLENBQVUsS0FBS0ksV0FBZixDQUFKLEVBQWlDO0FBQy9CO0FBQ0EsYUFBS0EsV0FBTCxDQUFpQjRCLEtBQWpCOztBQUVBO0FBQ0EsWUFBSSxLQUFLNUIsV0FBTCxDQUFpQlksTUFBckIsRUFBNkI7QUFDM0IsZUFBS0MsYUFBTCxDQUFtQixLQUFLYixXQUFMLENBQWlCLENBQWpCLENBQW5CO0FBQ0QsU0FGRCxNQUVPO0FBQ0w7QUFDQSwyQkFBRVQsS0FBRixDQUFRTix3QkFBUixFQUFrQzRDLE9BQWxDO0FBQ0Q7QUFDRjtBQUNGOztBQUVEOzs7Ozs7K0JBR1k7QUFDVixXQUFLekMsSUFBTCxDQUFVMEMsY0FBVjtBQUNEOztBQUVEOzs7Ozs7eUNBR3NCO0FBQ3BCLFdBQUtDLFFBQUw7QUFDQSxXQUFLM0MsSUFBTCxDQUFVNEMscUJBQVYsQ0FBZ0MsSUFBaEM7QUFDRDs7QUFFRDs7Ozs7Ozs7O29DQU1pQmhCLE0sRUFBUUcsUSxFQUFVO0FBQ2pDLFVBQUlILFVBQVUsT0FBUUcsUUFBUixLQUFzQixVQUFwQyxFQUFnRDtBQUM5QyxZQUFNRixlQUFlLEtBQUs3QixJQUFMLENBQVU4QixTQUEvQjs7QUFFQUQscUJBQWFELE1BQWIsSUFBdUJHLFFBQXZCOztBQUVBLGFBQUsvQixJQUFMLENBQVU2QyxvQkFBVixDQUErQmhCLFlBQS9CO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7O3VDQU1vQkssUSxFQUFVWSxLLEVBQU87QUFDbkMsVUFBSVosWUFBWSxtQkFBR0MsWUFBSCxDQUFnQkQsU0FBU1ksS0FBekIsQ0FBaEIsRUFBaUQ7QUFDL0NaLGlCQUFTWSxLQUFULENBQWVBLEtBQWY7QUFDRDtBQUNGOztBQUVEOzs7Ozs7Ozs7MkNBTXdCYixFLEVBQUlhLEssRUFBTztBQUNqQyxVQUFNWixXQUFXLEtBQUthLHNCQUFMLENBQTRCZCxFQUE1QixDQUFqQjs7QUFFQSxVQUFJQyxRQUFKLEVBQWM7QUFDWixhQUFLYyxrQkFBTCxDQUF3QmQsUUFBeEIsRUFBa0NZLEtBQWxDO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7Ozs7MENBS3VCZixRLEVBQVU7QUFDL0IsV0FBS2tCLGVBQUwsQ0FBcUIsc0JBQVlDLFVBQWpDLEVBQTZDbkIsUUFBN0M7QUFDRDs7QUFFRDs7Ozs7Ozs7OENBSzJCQSxRLEVBQVU7QUFDbkMsV0FBS2tCLGVBQUwsQ0FBcUIsc0JBQVlFLGtCQUFqQyxFQUFxRHBCLFFBQXJEO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzhDQUsyQkEsUSxFQUFVO0FBQ25DLFdBQUtrQixlQUFMLENBQXFCLHNCQUFZbEMsa0JBQWpDLEVBQXFEZ0IsUUFBckQ7QUFDRCIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQga28gZnJvbSAna25vY2tvdXQnO1xuaW1wb3J0IENhcnQgZnJvbSAncGFnZUxheW91dC9jYXJ0JztcbmltcG9ydCBwdWJzdWIgZnJvbSAncHVic3ViJztcbmltcG9ydCBjY0NvbnN0YW50cyBmcm9tICdjY0NvbnN0YW50cyc7XG5cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cbmNvbnN0IFRPUElDX09OX0FMTF9JVEVNU19BRERFRCA9ICdvZS5vbi5hbGwuaXRlbXMuYWRkZWQnO1xuXG4vKipcbiAqIEhlbHBlciBmb3IgY2FydCBjb21tb24gYWN0aW9uc1xuICpcbiAqIEBjbGFzc1xuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB3aWRnZXQgVGhlIHdpZGdldCBjb250ZXh0XG4gKiBAcHJvcGVydHkge09iamVjdH0gY2FydCAgIE9DQyBDYXJ0IGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBDYXJ0SGVscGVyIHtcbiAgY29uc3RydWN0b3IgKHdpZGdldCkge1xuICAgIHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuICAgIHRoaXMuY2FydCA9IENhcnQuZ2V0SW5zdGFuY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGl0ZW0gdG8gY2FydFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbSBUaGUgaXRlbSB0byBhZGQgdG8gY2FydFxuICAgKi9cbiAgYWRkSXRlbVRvQ2FydCAoaXRlbSkge1xuICAgICQuVG9waWMocHVic3ViLnRvcGljTmFtZXMuQ0FSVF9BREQpLnB1Ymxpc2hXaXRoKGl0ZW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBtdWx0aXBsZSBpdGVtcyB0byBjYXJ0XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zIEEgbGlzdCBvZiBpdGVtc1xuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdG8gd2FpdCBmb3IgYWRkaW5nXG4gICAqL1xuICBhZGRNdWx0aXBsZUl0ZW1zVG9DYXJ0IChpdGVtcykge1xuICAgIC8vIElmIGl0ZW1zIGlzIG5vdCBhbiBhcnJheSwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgaWYgKCEkLmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe2Vycm9yOiAnQW4gYXJyYXkgb2YgaXRlbXMgbXVzdCBiZSBwcm92aWRlZCEnfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBpdGVtcyBhcnJheSBpbiB0aGUgaGVscGVyXG4gICAgICB0aGlzLmFkZGluZ1F1ZXVlID0gaXRlbXM7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IHByaWNpbmcgc3VjY2VzcyBjYWxsYmFja1xuICAgICAgY29uc3QgY3VycmVudFN1Y2Nlc3NDYiA9IHRoaXMuZ2V0Q2FydENhbGxiYWNrQnlBY3Rpb24oY2NDb25zdGFudHMuUFJJQ0lOR19TVUNDRVNTX0NCKTtcblxuICAgICAgLy8gUmVwbGFjZSB0aGUgcHJpY2luZyBzdWNjZXNzIGNhbGxiYWNrIHRvIGhhbmRsZSB0aGUgbXVsdGlwbGUgYWRkIHRvIGNhcnRcbiAgICAgIHRoaXMuc2V0UHJpY2luZ1N1Y2Nlc3NDYWxsYmFjayh0aGlzLm9uUHJpY2luZ1N1Y2Nlc3MuYmluZCh0aGlzKSk7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAvLyBIYW5kbGUgYWN0aW9uIGVuZFxuICAgICAgICBjb25zdCBvbkl0ZW1zQWRkZWQgPSAoKSA9PiB7XG4gICAgICAgICAgLy8gSW4gY2FzZSBvZiBlbXB0eSBsaXN0OlxuICAgICAgICAgIC8vIC0gcmVtb3ZlIHRoZSB0b3BpYyBzdWJzY3JpYmVcbiAgICAgICAgICAkLlRvcGljKFRPUElDX09OX0FMTF9JVEVNU19BRERFRCkudW5zdWJzY3JpYmUob25JdGVtc0FkZGVkKTtcbiAgICAgICAgICAvLyAtIHJldHVybiB0aGUgcHJldmlvdXMgcHJpY2luZyBzdWNjZXNzIGNhbGxiYWNrXG4gICAgICAgICAgdGhpcy5zZXRQcmljaW5nU3VjY2Vzc0NhbGxiYWNrKGN1cnJlbnRTdWNjZXNzQ2IpO1xuICAgICAgICAgIC8vIC0gcmVzb2x2ZSB0aGUgcHJvbWlzZVxuICAgICAgICAgIHJlc29sdmUoe3N1Y2Nlc3M6IHRydWV9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVbnN1YnNjcmliZSBhbmQgc3Vic2NyaWJlIGFnYWluIHRvIGF2b2lkIHN0YWNraW5nXG4gICAgICAgICQuVG9waWMoVE9QSUNfT05fQUxMX0lURU1TX0FEREVEKS51bnN1YnNjcmliZShvbkl0ZW1zQWRkZWQpO1xuICAgICAgICAkLlRvcGljKFRPUElDX09OX0FMTF9JVEVNU19BRERFRCkuc3Vic2NyaWJlKG9uSXRlbXNBZGRlZCk7XG5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGxpc3Qgb2YgaXRlbXMgaW4gcXVldWUsXG4gICAgICAgIC8vIHNlbmQgdGhlIGZpcnN0IHRvIGNhcnQgdG8gc3RhcnQgdGhlIGxvb3BcbiAgICAgICAgaWYgKHRoaXMuYWRkaW5nUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5hZGRJdGVtVG9DYXJ0KHRoaXMuYWRkaW5nUXVldWVbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIENhbGwgdGhlIGFjdGlvbiBlbmQgaGFuZGxlciBtYW51YWxseVxuICAgICAgICAgIG9uSXRlbXNBZGRlZCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW1wdHkgdGhlIGNhcnRcbiAgICovXG4gIGNsZWFyQ2FydCAoKSB7XG4gICAgdGhpcy5jYXJ0LmVtcHR5Q2FydCgpO1xuICAgIHRoaXMuY2FydC5tYXJrRGlydHkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBjYXJ0IGNhbGxiYWNrIGdpdmVuIGFuIGFjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uIFRoZSBhY3Rpb24gcGVyZm9ybWVkIGJ5IHRoZSBjYWxsYmFja1xuICAgKlxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbnxVbmRlZmluZWR9IFRoZSBjYWxsYmFja1xuICAgKi9cbiAgZ2V0Q2FydENhbGxiYWNrQnlBY3Rpb24gKGFjdGlvbikge1xuICAgIGNvbnN0IGFsbENhbGxiYWNrcyA9IHRoaXMuY2FydC5jYWxsYmFja3M7XG4gICAgbGV0IGNhbGxiYWNrO1xuXG4gICAgaWYgKGFsbENhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShhY3Rpb24pKSB7XG4gICAgICBjYWxsYmFjayA9IGFsbENhbGxiYWNrc1thY3Rpb25dO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBkeW5hbWljIHByb3BlcnR5IGdpdmVuIGFuIElEXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgZHluYW1pYyBwcm9wZXJ0eSBJRCB0byBsb29rIGZvclxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R8VW5kZWZpbmVkfSBUaGUgZHluYW1pYyBwcm9wZXJ0eSBvciBub3RoaW5nXG4gICAqL1xuICBnZXREeW5hbWljUHJvcGVydHlCeUlkIChpZCA9ICcnKSB7XG4gICAgbGV0IHByb3BlcnR5O1xuXG4gICAgaWYgKHRoaXMuY2FydCAmJiBrby5pc09ic2VydmFibGUodGhpcy5jYXJ0LmR5bmFtaWNQcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHRoaXMuY2FydC5keW5hbWljUHJvcGVydGllcygpO1xuXG4gICAgICAvLyBVc2luZyAnc29tZScgZHVlIHRvIElFMTEgY29tcGF0aWJpbGl0eSBpc3N1ZXNcbiAgICAgIHByb3BlcnRpZXMuc29tZShwcm9wID0+IHtcbiAgICAgICAgaWYgKHByb3AuaWQoKSA9PT0gaWQpIHtcbiAgICAgICAgICBwcm9wZXJ0eSA9IHByb3A7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcHJpY2luZyBzdWNjZXNzIGZvciBtdWx0aXBsZSBhZGQgdG8gY2FydFxuICAgKi9cbiAgb25QcmljaW5nU3VjY2VzcyAoKSB7XG4gICAgLy8gQXBwbHkgdGhpcyBkZWZlbnNpdmUgY2hlY2sgdG8gYXZvaWQgcGFnZSBicmVha1xuICAgIGlmICgkLmlzQXJyYXkodGhpcy5hZGRpbmdRdWV1ZSkpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgcmVjZW50bHkgYWRkZWQgcHJvZHVjdFxuICAgICAgdGhpcy5hZGRpbmdRdWV1ZS5zaGlmdCgpO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyByZW1haW5pbmcgaXRlbXMgaW4gbGlzdCwgYWRkIHRoZSBmaXJzdCB0byBjYXJ0XG4gICAgICBpZiAodGhpcy5hZGRpbmdRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5hZGRJdGVtVG9DYXJ0KHRoaXMuYWRkaW5nUXVldWVbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBub3RpZnkgdGhlIGFjdGlvbiBlbmRcbiAgICAgICAgJC5Ub3BpYyhUT1BJQ19PTl9BTExfSVRFTVNfQURERUQpLnB1Ymxpc2goKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IGNhcnQgc3RhdGUgdG8gY29va2llc1xuICAgKi9cbiAgc2F2ZUNhcnQgKCkge1xuICAgIHRoaXMuY2FydC5zYXZlQ2FydENvb2tpZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgY3VycmVudCBjYXJ0IHN0YXRlIHRvIGNvb2tpZXMgYW5kIHByaWNlIHRoZSBjYXJ0XG4gICAqL1xuICBzYXZlQ2FydEFuZFBlcnNpc3QgKCkge1xuICAgIHRoaXMuc2F2ZUNhcnQoKTtcbiAgICB0aGlzLmNhcnQucHJpY2VDYXJ0SWZOZWNjZXNzYXJ5KHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIGNhbGxiYWNrIHRvIGNhcnQgZ2l2ZW4gdGhlIGFjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gICBhY3Rpb24gICBUaGUgY2FsbGJhY2sgYWN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFja1xuICAgKi9cbiAgc2V0Q2FydENhbGxiYWNrIChhY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgaWYgKGFjdGlvbiAmJiB0eXBlb2YgKGNhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc3QgYWxsQ2FsbGJhY2tzID0gdGhpcy5jYXJ0LmNhbGxiYWNrcztcblxuICAgICAgYWxsQ2FsbGJhY2tzW2FjdGlvbl0gPSBjYWxsYmFjaztcblxuICAgICAgdGhpcy5jYXJ0LnNldENhbGxiYWNrRnVuY3Rpb25zKGFsbENhbGxiYWNrcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIGR5bmFtaWMgcHJvcGVydHkgdmFsdWVcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnR5IFRoZSBkeW5hbWljIHByb3BlcnR5XG4gICAqIEBwYXJhbSB7QW55fSAgICB2YWx1ZSAgICBUaGUgbmV3IHZhbHVlXG4gICAqL1xuICBzZXREeW5hbWljUHJvcGVydHkgKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIGlmIChwcm9wZXJ0eSAmJiBrby5pc09ic2VydmFibGUocHJvcGVydHkudmFsdWUpKSB7XG4gICAgICBwcm9wZXJ0eS52YWx1ZSh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIGR5bmFtaWMgcHJvcGVydHkgdmFsdWUgZ2l2ZW4gYW4gaWRcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkICAgIFRoZSBkeW5hbWljIHByb3BlcnR5IGlkXG4gICAqIEBwYXJhbSB7QW55fSAgICB2YWx1ZSBUaGUgbmV3IHZhbHVlXG4gICAqL1xuICBzZXREeW5hbWljUHJvcGVydHlCeUlkIChpZCwgdmFsdWUpIHtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuZ2V0RHluYW1pY1Byb3BlcnR5QnlJZChpZCk7XG5cbiAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgIHRoaXMuc2V0RHluYW1pY1Byb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBwcmVwcmljaW5nIGNhbGxiYWNrIHRvIGNhcnRcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGhhbmRsZSBwcmVwcmljaW5nIGFjdGlvblxuICAgKi9cbiAgc2V0UHJlcHJpY2luZ0NhbGxiYWNrIChjYWxsYmFjaykge1xuICAgIHRoaXMuc2V0Q2FydENhbGxiYWNrKGNjQ29uc3RhbnRzLlBSRVBSSUNJTkcsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgZmFpbHVyZSBwcmljaW5nIGNhbGxiYWNrIHRvIGNhcnRcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGhhbmRsZSBmYWlsdXJlIHByaWNpbmcgYWN0aW9uXG4gICAqL1xuICBzZXRQcmljaW5nRmFpbHVyZUNhbGxiYWNrIChjYWxsYmFjaykge1xuICAgIHRoaXMuc2V0Q2FydENhbGxiYWNrKGNjQ29uc3RhbnRzLlBSSUNJTkdfRkFJTFVSRV9DQiwgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBzdWNjZXNzIHByaWNpbmcgY2FsbGJhY2sgdG8gY2FydFxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gaGFuZGxlIHN1Y2Nlc3MgcHJpY2luZyBhY3Rpb25cbiAgICovXG4gIHNldFByaWNpbmdTdWNjZXNzQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRDYXJ0Q2FsbGJhY2soY2NDb25zdGFudHMuUFJJQ0lOR19TVUNDRVNTX0NCLCBjYWxsYmFjayk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vLm9jYy1jb21wb25lbnRzL3dpZGdldHMvd2lkZ2V0LWNvcmUvaGVscGVycy9DYXJ0SGVscGVyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqcXVlcnlcIj8wYjc2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzEzX187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcImpxdWVyeVwiXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYWdlTGF5b3V0L2NhcnRcIj9hMTQxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzE0X187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcInBhZ2VMYXlvdXQvY2FydFwiXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwdWJzdWJcIj8xNjc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzE1X187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcInB1YnN1YlwiXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_16__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjY0NvbnN0YW50c1wiPzkzMzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTZfXztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiY2NDb25zdGFudHNcIlxuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgN1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseWidget = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _knockout = __webpack_require__(9);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\nvar _ccLogger = __webpack_require__(18);\n\nvar _ccLogger2 = _interopRequireDefault(_ccLogger);\n\nvar _viewportHelper = __webpack_require__(19);\n\nvar _viewportHelper2 = _interopRequireDefault(_viewportHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BaseWidget = exports.BaseWidget = function () {\n  function BaseWidget() {\n    _classCallCheck(this, BaseWidget);\n\n    this.applyContexts(this);\n    this._setExtensionSettings();\n    this._setViewportHelper();\n  }\n\n  _createClass(BaseWidget, [{\n    key: '_setExtensionSettings',\n    value: function _setExtensionSettings() {\n      this.$data.siteSettings = _knockout2.default.observable();\n\n      var extensionSiteSettings = this.$data.site().extensionSiteSettings;\n      this.$data.siteSettings(Object.keys(extensionSiteSettings).length ? extensionSiteSettings : null);\n    }\n  }, {\n    key: '_setViewportHelper',\n    value: function _setViewportHelper() {\n      var _this = this;\n\n      this.$data.viewportHelper = _viewportHelper2.default;\n      this.$data.viewportClass = _knockout2.default.pureComputed(function () {\n        return 'viewport-' + _viewportHelper2.default.viewportDesignation();\n      });\n\n      this.$data.isPhone = _knockout2.default.observable(false);\n      this.$data.isTablet = _knockout2.default.observable(false);\n      this.$data.isLaptop = _knockout2.default.observable(false);\n      this.$data.isDesktop = _knockout2.default.observable(false);\n\n      this._setCurrentViewport(_viewportHelper2.default.viewportDesignation());\n\n      _viewportHelper2.default.viewportDesignation.subscribe(function (viewport) {\n        return _this._setCurrentViewport(viewport);\n      });\n    }\n  }, {\n    key: '_setCurrentViewport',\n    value: function _setCurrentViewport(currentViewport) {\n      var viewportMapping = {};\n\n      viewportMapping.xs = this.$data.isPhone;\n      viewportMapping.sm = this.$data.isTablet;\n      viewportMapping.md = this.$data.isLaptop;\n      viewportMapping.lg = this.$data.isDesktop;\n\n      Object.keys(viewportMapping).forEach(function (viewportKey) {\n        return viewportMapping[viewportKey](viewportKey === currentViewport);\n      });\n    }\n  }, {\n    key: 'getSiteSetting',\n    value: function getSiteSetting(key) {\n      if (!this.hasSiteSettings()) {\n        this.log('There is no Site Settings configured', 'warn');\n        return false;\n      }\n\n      var siteSettings = this.$data.siteSettings();\n\n      if (typeof siteSettings[key] === 'undefined') {\n        this.log('The setting ' + key + ' doesn\\'t exist', 'warn');\n        return false;\n      }\n\n      return siteSettings[key];\n    }\n  }, {\n    key: 'hasSiteSettings',\n    value: function hasSiteSettings() {\n      return this.$data.siteSettings() !== null;\n    }\n  }, {\n    key: 'log',\n    value: function log(message) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'info';\n      var context = arguments[2];\n\n      context = context || this.$data.displayName();\n      _ccLogger2.default[type]('[OE][' + context + '] - ' + message);\n    }\n  }]);\n\n  return BaseWidget;\n}();\n\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8ub2NjLWNvbXBvbmVudHMvd2lkZ2V0cy93aWRnZXQtY29yZS9CYXNlV2lkZ2V0LmpzP2MxNGYiXSwibmFtZXMiOlsiQmFzZVdpZGdldCIsImFwcGx5Q29udGV4dHMiLCJfc2V0RXh0ZW5zaW9uU2V0dGluZ3MiLCJfc2V0Vmlld3BvcnRIZWxwZXIiLCIkZGF0YSIsInNpdGVTZXR0aW5ncyIsIm9ic2VydmFibGUiLCJleHRlbnNpb25TaXRlU2V0dGluZ3MiLCJzaXRlIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInZpZXdwb3J0SGVscGVyIiwidmlld3BvcnRDbGFzcyIsInB1cmVDb21wdXRlZCIsInZpZXdwb3J0RGVzaWduYXRpb24iLCJpc1Bob25lIiwiaXNUYWJsZXQiLCJpc0xhcHRvcCIsImlzRGVza3RvcCIsIl9zZXRDdXJyZW50Vmlld3BvcnQiLCJzdWJzY3JpYmUiLCJ2aWV3cG9ydCIsImN1cnJlbnRWaWV3cG9ydCIsInZpZXdwb3J0TWFwcGluZyIsInhzIiwic20iLCJtZCIsImxnIiwiZm9yRWFjaCIsInZpZXdwb3J0S2V5Iiwia2V5IiwiaGFzU2l0ZVNldHRpbmdzIiwibG9nIiwibWVzc2FnZSIsInR5cGUiLCJjb250ZXh0IiwiZGlzcGxheU5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFYUEsVSxXQUFBQSxVO0FBQ1gsd0JBQWM7QUFBQTs7QUFDWixTQUFLQyxhQUFMLENBQW1CLElBQW5CO0FBQ0EsU0FBS0MscUJBQUw7QUFDQSxTQUFLQyxrQkFBTDtBQUNEOzs7OzRDQUV1QjtBQUN0QixXQUFLQyxLQUFMLENBQVdDLFlBQVgsR0FBMEIsbUJBQUdDLFVBQUgsRUFBMUI7O0FBRUEsVUFBSUMsd0JBQXdCLEtBQUtILEtBQUwsQ0FBV0ksSUFBWCxHQUFrQkQscUJBQTlDO0FBQ0EsV0FBS0gsS0FBTCxDQUFXQyxZQUFYLENBQXdCSSxPQUFPQyxJQUFQLENBQVlILHFCQUFaLEVBQW1DSSxNQUFuQyxHQUE0Q0oscUJBQTVDLEdBQW9FLElBQTVGO0FBQ0Q7Ozt5Q0FFb0I7QUFBQTs7QUFDbkIsV0FBS0gsS0FBTCxDQUFXUSxjQUFYO0FBQ0EsV0FBS1IsS0FBTCxDQUFXUyxhQUFYLEdBQTJCLG1CQUFHQyxZQUFILENBQWdCLFlBQVk7QUFDckQsZUFBTyxjQUFjLHlCQUFlQyxtQkFBZixFQUFyQjtBQUNELE9BRjBCLENBQTNCOztBQUlBLFdBQUtYLEtBQUwsQ0FBV1ksT0FBWCxHQUFxQixtQkFBR1YsVUFBSCxDQUFjLEtBQWQsQ0FBckI7QUFDQSxXQUFLRixLQUFMLENBQVdhLFFBQVgsR0FBc0IsbUJBQUdYLFVBQUgsQ0FBYyxLQUFkLENBQXRCO0FBQ0EsV0FBS0YsS0FBTCxDQUFXYyxRQUFYLEdBQXNCLG1CQUFHWixVQUFILENBQWMsS0FBZCxDQUF0QjtBQUNBLFdBQUtGLEtBQUwsQ0FBV2UsU0FBWCxHQUF1QixtQkFBR2IsVUFBSCxDQUFjLEtBQWQsQ0FBdkI7O0FBRUEsV0FBS2MsbUJBQUwsQ0FBeUIseUJBQWVMLG1CQUFmLEVBQXpCOztBQUVBLCtCQUFlQSxtQkFBZixDQUFtQ00sU0FBbkMsQ0FBNkM7QUFBQSxlQUFZLE1BQUtELG1CQUFMLENBQXlCRSxRQUF6QixDQUFaO0FBQUEsT0FBN0M7QUFDRDs7O3dDQUVtQkMsZSxFQUFpQjtBQUNuQyxVQUFJQyxrQkFBa0IsRUFBdEI7O0FBRUFBLHNCQUFnQkMsRUFBaEIsR0FBcUIsS0FBS3JCLEtBQUwsQ0FBV1ksT0FBaEM7QUFDQVEsc0JBQWdCRSxFQUFoQixHQUFxQixLQUFLdEIsS0FBTCxDQUFXYSxRQUFoQztBQUNBTyxzQkFBZ0JHLEVBQWhCLEdBQXFCLEtBQUt2QixLQUFMLENBQVdjLFFBQWhDO0FBQ0FNLHNCQUFnQkksRUFBaEIsR0FBcUIsS0FBS3hCLEtBQUwsQ0FBV2UsU0FBaEM7O0FBRUFWLGFBQU9DLElBQVAsQ0FBWWMsZUFBWixFQUE2QkssT0FBN0IsQ0FBcUMsVUFBQ0MsV0FBRDtBQUFBLGVBQWlCTixnQkFBZ0JNLFdBQWhCLEVBQTZCQSxnQkFBZ0JQLGVBQTdDLENBQWpCO0FBQUEsT0FBckM7QUFDRDs7O21DQUVjUSxHLEVBQUs7QUFDbEIsVUFBRyxDQUFDLEtBQUtDLGVBQUwsRUFBSixFQUE0QjtBQUMxQixhQUFLQyxHQUFMLENBQVMsc0NBQVQsRUFBaUQsTUFBakQ7QUFDQSxlQUFPLEtBQVA7QUFDRDs7QUFFRCxVQUFJNUIsZUFBZSxLQUFLRCxLQUFMLENBQVdDLFlBQVgsRUFBbkI7O0FBRUEsVUFBRyxPQUFPQSxhQUFhMEIsR0FBYixDQUFQLEtBQTZCLFdBQWhDLEVBQTZDO0FBQzNDLGFBQUtFLEdBQUwsa0JBQXdCRixHQUF4QixzQkFBNkMsTUFBN0M7QUFDQSxlQUFPLEtBQVA7QUFDRDs7QUFFRCxhQUFPMUIsYUFBYTBCLEdBQWIsQ0FBUDtBQUNEOzs7c0NBRWlCO0FBQ2hCLGFBQU8sS0FBSzNCLEtBQUwsQ0FBV0MsWUFBWCxPQUE4QixJQUFyQztBQUNEOzs7d0JBRUc2QixPLEVBQWlDO0FBQUEsVUFBeEJDLElBQXdCLHVFQUFqQixNQUFpQjtBQUFBLFVBQVRDLE9BQVM7O0FBQ25DQSxnQkFBVUEsV0FBVyxLQUFLaEMsS0FBTCxDQUFXaUMsV0FBWCxFQUFyQjtBQUNBLHlCQUFTRixJQUFULFlBQXVCQyxPQUF2QixZQUFxQ0YsT0FBckM7QUFDRDs7Ozs7O0FBQ0YiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQga28gZnJvbSAna25vY2tvdXQnO1xuaW1wb3J0IGNjTG9nZ2VyIGZyb20gJ2NjTG9nZ2VyJztcbmltcG9ydCB2aWV3cG9ydEhlbHBlciBmcm9tICd2aWV3cG9ydEhlbHBlcic7XG5cbmV4cG9ydCBjbGFzcyBCYXNlV2lkZ2V0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hcHBseUNvbnRleHRzKHRoaXMpO1xuICAgIHRoaXMuX3NldEV4dGVuc2lvblNldHRpbmdzKCk7XG4gICAgdGhpcy5fc2V0Vmlld3BvcnRIZWxwZXIoKTtcbiAgfVxuXG4gIF9zZXRFeHRlbnNpb25TZXR0aW5ncygpIHtcbiAgICB0aGlzLiRkYXRhLnNpdGVTZXR0aW5ncyA9IGtvLm9ic2VydmFibGUoKTtcbiAgICBcbiAgICBsZXQgZXh0ZW5zaW9uU2l0ZVNldHRpbmdzID0gdGhpcy4kZGF0YS5zaXRlKCkuZXh0ZW5zaW9uU2l0ZVNldHRpbmdzO1xuICAgIHRoaXMuJGRhdGEuc2l0ZVNldHRpbmdzKE9iamVjdC5rZXlzKGV4dGVuc2lvblNpdGVTZXR0aW5ncykubGVuZ3RoID8gZXh0ZW5zaW9uU2l0ZVNldHRpbmdzIDogbnVsbCk7XG4gIH1cblxuICBfc2V0Vmlld3BvcnRIZWxwZXIoKSB7XG4gICAgdGhpcy4kZGF0YS52aWV3cG9ydEhlbHBlciA9IHZpZXdwb3J0SGVscGVyO1xuICAgIHRoaXMuJGRhdGEudmlld3BvcnRDbGFzcyA9IGtvLnB1cmVDb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ3ZpZXdwb3J0LScgKyB2aWV3cG9ydEhlbHBlci52aWV3cG9ydERlc2lnbmF0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRkYXRhLmlzUGhvbmUgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLiRkYXRhLmlzVGFibGV0ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy4kZGF0YS5pc0xhcHRvcCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuJGRhdGEuaXNEZXNrdG9wID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG5cbiAgICB0aGlzLl9zZXRDdXJyZW50Vmlld3BvcnQodmlld3BvcnRIZWxwZXIudmlld3BvcnREZXNpZ25hdGlvbigpKTtcblxuICAgIHZpZXdwb3J0SGVscGVyLnZpZXdwb3J0RGVzaWduYXRpb24uc3Vic2NyaWJlKHZpZXdwb3J0ID0+IHRoaXMuX3NldEN1cnJlbnRWaWV3cG9ydCh2aWV3cG9ydCkpO1xuICB9XG5cbiAgX3NldEN1cnJlbnRWaWV3cG9ydChjdXJyZW50Vmlld3BvcnQpIHtcbiAgICBsZXQgdmlld3BvcnRNYXBwaW5nID0ge307XG5cbiAgICB2aWV3cG9ydE1hcHBpbmcueHMgPSB0aGlzLiRkYXRhLmlzUGhvbmU7XG4gICAgdmlld3BvcnRNYXBwaW5nLnNtID0gdGhpcy4kZGF0YS5pc1RhYmxldDtcbiAgICB2aWV3cG9ydE1hcHBpbmcubWQgPSB0aGlzLiRkYXRhLmlzTGFwdG9wO1xuICAgIHZpZXdwb3J0TWFwcGluZy5sZyA9IHRoaXMuJGRhdGEuaXNEZXNrdG9wO1xuXG4gICAgT2JqZWN0LmtleXModmlld3BvcnRNYXBwaW5nKS5mb3JFYWNoKCh2aWV3cG9ydEtleSkgPT4gdmlld3BvcnRNYXBwaW5nW3ZpZXdwb3J0S2V5XSh2aWV3cG9ydEtleSA9PT0gY3VycmVudFZpZXdwb3J0KSk7XG4gIH1cblxuICBnZXRTaXRlU2V0dGluZyhrZXkpIHtcbiAgICBpZighdGhpcy5oYXNTaXRlU2V0dGluZ3MoKSkge1xuICAgICAgdGhpcy5sb2coJ1RoZXJlIGlzIG5vIFNpdGUgU2V0dGluZ3MgY29uZmlndXJlZCcsICd3YXJuJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IHNpdGVTZXR0aW5ncyA9IHRoaXMuJGRhdGEuc2l0ZVNldHRpbmdzKCk7XG5cbiAgICBpZih0eXBlb2Ygc2l0ZVNldHRpbmdzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmxvZyhgVGhlIHNldHRpbmcgJHtrZXl9IGRvZXNuJ3QgZXhpc3RgLCAnd2FybicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBzaXRlU2V0dGluZ3Nba2V5XTtcbiAgfVxuXG4gIGhhc1NpdGVTZXR0aW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy4kZGF0YS5zaXRlU2V0dGluZ3MoKSAhPT0gbnVsbDtcbiAgfVxuXG4gIGxvZyhtZXNzYWdlLCB0eXBlID0gJ2luZm8nLCBjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcy4kZGF0YS5kaXNwbGF5TmFtZSgpOyAgICBcbiAgICBjY0xvZ2dlclt0eXBlXShgW09FXVske2NvbnRleHR9XSAtICR7bWVzc2FnZX1gKTtcbiAgfVxufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vLm9jYy1jb21wb25lbnRzL3dpZGdldHMvd2lkZ2V0LWNvcmUvQmFzZVdpZGdldC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjY0xvZ2dlclwiPzg0MmEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMThfXztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiY2NMb2dnZXJcIlxuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgN1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_19__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ2aWV3cG9ydEhlbHBlclwiPzBiMjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTlfXztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwidmlld3BvcnRIZWxwZXJcIlxuICoqIG1vZHVsZSBpZCA9IDE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgN1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},,,,,,,,,,function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_29__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdG9yYWdlQXBpXCI/ZjczMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yOV9fO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJzdG9yYWdlQXBpXCJcbiAqKiBtb2R1bGUgaWQgPSAyOVxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},,,function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _oeValmorRVPManager = __webpack_require__(33);\n\nObject.defineProperty(exports, 'oeValmorRVPManager', {\n  enumerable: true,\n  get: function get() {\n    return _oeValmorRVPManager.oeValmorRVPManager;\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93aWRnZXRzL29iamVjdGVkZ2Uvb2VWYWxtb3JSVlBNYW5hZ2VyL2pzL3ZpZXctbW9kZWxzL2luZGV4LmpzPzU2NWIiXSwibmFtZXMiOlsib2VWYWxtb3JSVlBNYW5hZ2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OzsrQkFBU0Esa0IiLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBvZVZhbG1vclJWUE1hbmFnZXIgfSBmcm9tICcuL29lVmFsbW9yUlZQTWFuYWdlcic7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3dpZGdldHMvb2JqZWN0ZWRnZS9vZVZhbG1vclJWUE1hbmFnZXIvanMvdmlldy1tb2RlbHMvaW5kZXguanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.oeValmorRVPManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _decorators = __webpack_require__(5);\n\nvar _widgetCore = __webpack_require__(1);\n\nvar _knockout = __webpack_require__(9);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\nvar _storageApi = __webpack_require__(29);\n\nvar _storageApi2 = _interopRequireDefault(_storageApi);\n\nvar _jquery = __webpack_require__(13);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Core\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\n/**\n * Libraries, Helpers\n */\n\n\nvar STORAGE_KEY = 'oe-valmor-recently-viewed-products';\n\nvar oeValmorRVPManager = exports.oeValmorRVPManager = function (_BaseWidget) {\n  _inherits(oeValmorRVPManager, _BaseWidget);\n\n  /**\n   * On load view model\n   */\n  function oeValmorRVPManager() {\n    _classCallCheck(this, oeValmorRVPManager);\n\n    var _this = _possibleConstructorReturn(this, (oeValmorRVPManager.__proto__ || Object.getPrototypeOf(oeValmorRVPManager)).call(this));\n    // Constructing the BaseWidget\n\n\n    _this.storage = _storageApi2.default.getInstance();\n    _this.setTopicListener();\n    return _this;\n  }\n\n  _createClass(oeValmorRVPManager, [{\n    key: 'beforeAppear',\n    value: function beforeAppear(page) {\n      // If the actual page is a PDP, store the current product id\n      if (page.pageId && page.pageId === 'product') {\n        this.storeProduct();\n      }\n    }\n\n    /**\n     * Retrieves the current stored products list\n     */\n\n  }, {\n    key: 'getStoredProducts',\n    value: function getStoredProducts() {\n      var productList = this.storage.getItem(STORAGE_KEY);\n      return productList ? productList.split(';') : [];\n    }\n\n    /**\n     * Set the topic listener\n     */\n\n  }, {\n    key: 'setTopicListener',\n    value: function setTopicListener() {\n      var _this2 = this;\n\n      _jquery2.default.Topic('OE_VALMOR_RVP_NEW_PRODUCT').subscribe(function (productId) {\n        return _this2.storeProductById(productId);\n      });\n    }\n\n    /**\n     * Stores the product Id\n     * Sliced from storeProduct to allow it to be invoked by the topic listener, receiving an ID to store\n     */\n\n  }, {\n    key: 'storeProductById',\n    value: function storeProductById(productId) {\n      if (productId) {\n        var maxProducts = _knockout2.default.isObservable(this.$data.maxItems) && !isNaN(this.$data.maxItems()) ? parseInt(this.$data.maxItems(), 10) : 8;\n        var storedProducts = [].concat(productId, this.getStoredProducts().filter(function (pId) {\n          return pId !== productId;\n        })).slice(0, maxProducts);\n        return this.storage.setItem(STORAGE_KEY, storedProducts.join(';'));\n      }\n      return false;\n    }\n\n    /**\n     * If product.id is an observable, evaluates it and stores the product id\n     */\n\n  }, {\n    key: 'storeProduct',\n    value: function storeProduct() {\n      // if (this.$data && typeof this.$data.product === 'function' && this.$data.product()) {\n      if (_knockout2.default.isObservable(this.$data.product) && _knockout2.default.isObservable(this.$data.product().id)) {\n        var productId = this.$data.product().id();\n        return this.storeProductById(productId);\n      }\n      return false;\n    }\n  }]);\n\n  return oeValmorRVPManager;\n}(_widgetCore.BaseWidget);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93aWRnZXRzL29iamVjdGVkZ2Uvb2VWYWxtb3JSVlBNYW5hZ2VyL2pzL3ZpZXctbW9kZWxzL29lVmFsbW9yUlZQTWFuYWdlci5qcz9mMjhkIl0sIm5hbWVzIjpbIlNUT1JBR0VfS0VZIiwib2VWYWxtb3JSVlBNYW5hZ2VyIiwic3RvcmFnZSIsImdldEluc3RhbmNlIiwic2V0VG9waWNMaXN0ZW5lciIsInBhZ2UiLCJwYWdlSWQiLCJzdG9yZVByb2R1Y3QiLCJwcm9kdWN0TGlzdCIsImdldEl0ZW0iLCJzcGxpdCIsIlRvcGljIiwic3Vic2NyaWJlIiwicHJvZHVjdElkIiwic3RvcmVQcm9kdWN0QnlJZCIsIm1heFByb2R1Y3RzIiwiaXNPYnNlcnZhYmxlIiwiJGRhdGEiLCJtYXhJdGVtcyIsImlzTmFOIiwicGFyc2VJbnQiLCJzdG9yZWRQcm9kdWN0cyIsImNvbmNhdCIsImdldFN0b3JlZFByb2R1Y3RzIiwiZmlsdGVyIiwicElkIiwic2xpY2UiLCJzZXRJdGVtIiwiam9pbiIsInByb2R1Y3QiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBR0E7O0FBQ0E7O0FBS0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7OytlQVhBOzs7OztBQU1BOzs7OztBQU9BLElBQU1BLGNBQWMsb0NBQXBCOztJQUVhQyxrQixXQUFBQSxrQjs7O0FBRVg7OztBQUdBLGdDQUFjO0FBQUE7O0FBQUE7QUFDWjs7O0FBR0EsVUFBS0MsT0FBTCxHQUFlLHFCQUFXQyxXQUFYLEVBQWY7QUFDQSxVQUFLQyxnQkFBTDtBQUxZO0FBTWI7Ozs7aUNBRVlDLEksRUFBTTtBQUNqQjtBQUNBLFVBQUlBLEtBQUtDLE1BQUwsSUFBZUQsS0FBS0MsTUFBTCxLQUFnQixTQUFuQyxFQUE4QztBQUM1QyxhQUFLQyxZQUFMO0FBQ0Q7QUFDRjs7QUFFRDs7Ozs7O3dDQUdvQjtBQUNsQixVQUFNQyxjQUFjLEtBQUtOLE9BQUwsQ0FBYU8sT0FBYixDQUFxQlQsV0FBckIsQ0FBcEI7QUFDQSxhQUFPUSxjQUFjQSxZQUFZRSxLQUFaLENBQWtCLEdBQWxCLENBQWQsR0FBdUMsRUFBOUM7QUFDRDs7QUFFRDs7Ozs7O3VDQUdtQjtBQUFBOztBQUNqQix1QkFBRUMsS0FBRixDQUFRLDJCQUFSLEVBQXFDQyxTQUFyQyxDQUErQyxVQUFDQyxTQUFELEVBQWU7QUFDNUQsZUFBTyxPQUFLQyxnQkFBTCxDQUFzQkQsU0FBdEIsQ0FBUDtBQUNELE9BRkQ7QUFHRDs7QUFFRDs7Ozs7OztxQ0FJaUJBLFMsRUFBVztBQUMxQixVQUFJQSxTQUFKLEVBQWU7QUFDYixZQUFNRSxjQUFjLG1CQUFHQyxZQUFILENBQWdCLEtBQUtDLEtBQUwsQ0FBV0MsUUFBM0IsS0FBd0MsQ0FBQ0MsTUFBTSxLQUFLRixLQUFMLENBQVdDLFFBQVgsRUFBTixDQUF6QyxHQUF3RUUsU0FBUyxLQUFLSCxLQUFMLENBQVdDLFFBQVgsRUFBVCxFQUErQixFQUEvQixDQUF4RSxHQUE2RyxDQUFqSTtBQUNBLFlBQU1HLGlCQUFpQixHQUFHQyxNQUFILENBQVVULFNBQVYsRUFBcUIsS0FBS1UsaUJBQUwsR0FBeUJDLE1BQXpCLENBQWdDLFVBQUNDLEdBQUQ7QUFBQSxpQkFBU0EsUUFBUVosU0FBakI7QUFBQSxTQUFoQyxDQUFyQixFQUFrRmEsS0FBbEYsQ0FBd0YsQ0FBeEYsRUFBMEZYLFdBQTFGLENBQXZCO0FBQ0EsZUFBTyxLQUFLYixPQUFMLENBQWF5QixPQUFiLENBQXFCM0IsV0FBckIsRUFBa0NxQixlQUFlTyxJQUFmLENBQW9CLEdBQXBCLENBQWxDLENBQVA7QUFDRDtBQUNELGFBQU8sS0FBUDtBQUNEOztBQUVEOzs7Ozs7bUNBR2U7QUFDYjtBQUNBLFVBQUksbUJBQUdaLFlBQUgsQ0FBZ0IsS0FBS0MsS0FBTCxDQUFXWSxPQUEzQixLQUF1QyxtQkFBR2IsWUFBSCxDQUFnQixLQUFLQyxLQUFMLENBQVdZLE9BQVgsR0FBcUJDLEVBQXJDLENBQTNDLEVBQXFGO0FBQ25GLFlBQU1qQixZQUFZLEtBQUtJLEtBQUwsQ0FBV1ksT0FBWCxHQUFxQkMsRUFBckIsRUFBbEI7QUFDQSxlQUFPLEtBQUtoQixnQkFBTCxDQUFzQkQsU0FBdEIsQ0FBUDtBQUNEO0FBQ0QsYUFBTyxLQUFQO0FBQ0QiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcmVcbiAqL1xuaW1wb3J0IHsgZXhwb3J0VG9WaWV3TW9kZWwgfSBmcm9tICdvY2MtY29tcG9uZW50cy93aWRnZXQtY29yZS9kZWNvcmF0b3JzJztcbmltcG9ydCB7IEJhc2VXaWRnZXQgfSBmcm9tICdvY2MtY29tcG9uZW50cy93aWRnZXQtY29yZSc7XG5cbi8qKlxuICogTGlicmFyaWVzLCBIZWxwZXJzXG4gKi9cbmltcG9ydCBrbyBmcm9tICdrbm9ja291dCc7XG5pbXBvcnQgc3RvcmFnZUFwaSBmcm9tICdzdG9yYWdlQXBpJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmNvbnN0IFNUT1JBR0VfS0VZID0gJ29lLXZhbG1vci1yZWNlbnRseS12aWV3ZWQtcHJvZHVjdHMnO1xuXG5leHBvcnQgY2xhc3Mgb2VWYWxtb3JSVlBNYW5hZ2VyIGV4dGVuZHMgQmFzZVdpZGdldCB7XG5cbiAgLyoqXG4gICAqIE9uIGxvYWQgdmlldyBtb2RlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gQ29uc3RydWN0aW5nIHRoZSBCYXNlV2lkZ2V0XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2VBcGkuZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLnNldFRvcGljTGlzdGVuZXIoKTtcbiAgfVxuXG4gIGJlZm9yZUFwcGVhcihwYWdlKSB7XG4gICAgLy8gSWYgdGhlIGFjdHVhbCBwYWdlIGlzIGEgUERQLCBzdG9yZSB0aGUgY3VycmVudCBwcm9kdWN0IGlkXG4gICAgaWYgKHBhZ2UucGFnZUlkICYmIHBhZ2UucGFnZUlkID09PSAncHJvZHVjdCcpIHtcbiAgICAgIHRoaXMuc3RvcmVQcm9kdWN0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCBzdG9yZWQgcHJvZHVjdHMgbGlzdFxuICAgKi9cbiAgZ2V0U3RvcmVkUHJvZHVjdHMoKSB7XG4gICAgY29uc3QgcHJvZHVjdExpc3QgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7XG4gICAgcmV0dXJuIHByb2R1Y3RMaXN0ID8gcHJvZHVjdExpc3Quc3BsaXQoJzsnKSA6IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdG9waWMgbGlzdGVuZXJcbiAgICovXG4gIHNldFRvcGljTGlzdGVuZXIoKSB7XG4gICAgJC5Ub3BpYygnT0VfVkFMTU9SX1JWUF9ORVdfUFJPRFVDVCcpLnN1YnNjcmliZSgocHJvZHVjdElkKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yZVByb2R1Y3RCeUlkKHByb2R1Y3RJZCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcmVzIHRoZSBwcm9kdWN0IElkXG4gICAqIFNsaWNlZCBmcm9tIHN0b3JlUHJvZHVjdCB0byBhbGxvdyBpdCB0byBiZSBpbnZva2VkIGJ5IHRoZSB0b3BpYyBsaXN0ZW5lciwgcmVjZWl2aW5nIGFuIElEIHRvIHN0b3JlXG4gICAqL1xuICBzdG9yZVByb2R1Y3RCeUlkKHByb2R1Y3RJZCkge1xuICAgIGlmIChwcm9kdWN0SWQpIHtcbiAgICAgIGNvbnN0IG1heFByb2R1Y3RzID0ga28uaXNPYnNlcnZhYmxlKHRoaXMuJGRhdGEubWF4SXRlbXMpICYmICFpc05hTih0aGlzLiRkYXRhLm1heEl0ZW1zKCkpID8gcGFyc2VJbnQodGhpcy4kZGF0YS5tYXhJdGVtcygpLDEwKSA6IDg7XG4gICAgICBjb25zdCBzdG9yZWRQcm9kdWN0cyA9IFtdLmNvbmNhdChwcm9kdWN0SWQsIHRoaXMuZ2V0U3RvcmVkUHJvZHVjdHMoKS5maWx0ZXIoKHBJZCkgPT4gcElkICE9PSBwcm9kdWN0SWQpKS5zbGljZSgwLG1heFByb2R1Y3RzKTtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgc3RvcmVkUHJvZHVjdHMuam9pbignOycpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHByb2R1Y3QuaWQgaXMgYW4gb2JzZXJ2YWJsZSwgZXZhbHVhdGVzIGl0IGFuZCBzdG9yZXMgdGhlIHByb2R1Y3QgaWRcbiAgICovXG4gIHN0b3JlUHJvZHVjdCgpIHtcbiAgICAvLyBpZiAodGhpcy4kZGF0YSAmJiB0eXBlb2YgdGhpcy4kZGF0YS5wcm9kdWN0ID09PSAnZnVuY3Rpb24nICYmIHRoaXMuJGRhdGEucHJvZHVjdCgpKSB7XG4gICAgaWYgKGtvLmlzT2JzZXJ2YWJsZSh0aGlzLiRkYXRhLnByb2R1Y3QpICYmIGtvLmlzT2JzZXJ2YWJsZSh0aGlzLiRkYXRhLnByb2R1Y3QoKS5pZCkpIHtcbiAgICAgIGNvbnN0IHByb2R1Y3RJZCA9IHRoaXMuJGRhdGEucHJvZHVjdCgpLmlkKCk7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yZVByb2R1Y3RCeUlkKHByb2R1Y3RJZCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi93aWRnZXRzL29iamVjdGVkZ2Uvb2VWYWxtb3JSVlBNYW5hZ2VyL2pzL3ZpZXctbW9kZWxzL29lVmFsbW9yUlZQTWFuYWdlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")}])});